{"version":3,"sources":["store/actions/actionTypes.js","store/reducers/appReducer.js","store/reducers/userReducer.js","store/reducers/rootReducer.js","redux.js","hoc/authentication.js","utils/constant.js","utils/KeyCodeUtils.js","utils/LanguageUtils.js","components/CustomScrollbars.js","components/CustomToast.js","utils/ToastUtil.js","axios.js","services/taiKhoanService.js","containers/Login/Login.js","store/actions/userActions.js","containers/Header/Sidebar.js","containers/Header/Header.js","containers/Home/Home.js","services/sachService.js","containers/Sach/Sach.js","containers/TaiKhoan/ModalCreateTaiKhoan.js","utils/emitter.js","containers/TaiKhoan/ModalEditTaiKhoan.js","containers/TaiKhoan/ModalDeleteTaiKhoan.js","containers/TaiKhoan/TaiKhoan.js","services/phieuThuService.js","containers/PhieuThu/ModalShowPhieuThu.js","containers/PhieuThu/ModalCreatePhieuThu.js","containers/PhieuThu/ModalViewPhieuThu.js","containers/PhieuThu/PhieuThu.js","services/khachHangService.js","containers/KhachHang/ModalCreateKhachHang.js","containers/KhachHang/ModalEditKhachHang.js","containers/KhachHang/ModalDeleteKhachHang.js","containers/KhachHang/KhachHang.js","services/phieuNhapService.js","containers/PhieuNhap/ModalShowPhieuNhap.js","containers/PhieuNhap/ModalCreatePhieuNhap.js","containers/PhieuNhap/ModalViewPhieuNhap.js","containers/PhieuNhap/PhieuNhap.js","services/hoaDonService.js","containers/HoaDon/ModalShowHoaDon.js","containers/HoaDon/ModalCreateHoaDon.js","containers/HoaDon/ModalViewHoaDon.js","containers/HoaDon/HoaDon.js","services/baoCaoService.js","containers/BaoCao/ModalShowBaoCao.js","containers/BaoCao/BaoCao.js","components/ConfirmModal.js","store/actions/appActions.js","containers/App.js","serviceWorker.js","hoc/IntlProviderWrapper.js","index.js"],"names":["actionTypes","Object","freeze","APP_START_UP_COMPLETE","SET_CONTENT_OF_CONFIRM_MODAL","ADD_USER_SUCCESS","USER_LOGIN_SUCCESS","USER_LOGIN_FAIL","PROCESS_LOGOUT","initialState","started","language","systemMenuPath","contentOfConfirmModal","isOpen","messageId","handleFunc","dataFunc","appReducer","state","arguments","length","undefined","action","type","isLoggedIn","userInfo","userPersistConfig","storage","stateReconciler","autoMergeLevel2","key","whitelist","isDevelopment","environment","history","createBrowserHistory","basename","process","reduxStateSyncConfig","rootReducer","combineReducers","router","connectRouter","user","persistReducer","userReducer","app","middleware","routerMiddleware","thunkMiddleware","createStateSyncMiddleware","composeEnhancers","compose","reduxStore","createStore","applyMiddleware","persistor","dispatch","persistStore","locationHelper","locationHelperBuilder","userIsAuthenticated","connectedRouterRedirect","authenticatedSelector","wrapperDisplayName","redirectPath","userIsNotAuthenticated","ownProps","getRedirectQueryParam","allowRedirectBack","path","KeyCodeUtils","isNavigation","e","isNumeric","isAlphabetic","isDecimal","isDash","UP","DOWN","TAB","ENTER","E","ESCAPE","flattenMessages","nestedMessages","prefix","keys","reduce","messages","value","prefixedKey","assign","messages_vi","messages_en","Component","ToastUtil","instance","axios","create","baseURL","interceptors","response","use","data","handleLogin","username","password","post","getDSTaiKhoan","get","searchTaiKhoan","keyword","params","put","idTK","delete","Login","constructor","props","super","handleOnChangeUsername","event","this","setState","target","handleOnChangePassword","async","message","taiKhoanService","errCode","userLoginSuccess","taiKhoan","console","log","handleShowHidePassword","isShowPassword","handleKeyDown","inputElements","document","querySelectorAll","currentIndex","Array","from","indexOf","focus","render","_jsxs","className","children","_jsx","placeholder","onChange","onKeyDown","onClick","style","color","connect","languge","navigate","push","actions","Sidebar","title","cName","Header","showSidebar","sidebar","setActiveItem","activeItem","vaiTro","componentDidMount","window","location","pathname","processLogout","_Fragment","Link","to","faIcons","hoTen","AiOutlineClose","map","item","index","Home","linkToRedirect","Redirect","getDSSach","searchSach","Sach","thongBao","prop","position","toast","POSITION","TOP_CENTER","autoClose","closeButton","bodyClassName","success","error","handleOnChange","id","copyState","sachService","DSSach","class","idSach","tenSach","theLoai","tacGia","soLuong","Number","donGiaBan","toLocaleString","ModalCreateTaiKhoan","toggle","diaChi","sdt","toggleModalCreateTaiKhoan","createTaiKhoan","checklValidInput","arrInput","arr","i","Modal","size","centered","ModalHeader","ModalBody","required","name","ModalFooter","Button","_emitter","EventEmitter","setMaxListeners","ModalEditTaiKhoan","toggleModalEditTaiKhoan","editTaiKhoan","_","isEmpty","disabled","ModalDeleteTaiKhoan","toggleModalDeleteTaiKhoan","deleteTaiKhoan","TaiKhoan","DSTaiKhoan","openCreateTaiKhoan","isOpenModalCreateTaiKhoan","openEditTaiKhoan","isOpenModalEditTaiKhoan","taiKhoanEdit","openDeleteTaiKhoan","isOpenModalDeleteTaiKhoan","idDelete","textAlign","FiEdit","LuTrash2","getDSPhieuThu","idPT","searchPhieuThu","ModalShowPhieuThu","toggleModalShowPhieuThu","createPhieuThu","componentRef","React","createRef","PT","ref","moment","ngayThuTien","format","email","soTienThu","ReactToPrint","content","current","trigger","onAfterPrint","ModalCreatePhieuThu","Date","toISOString","slice","isOpenModalShowPhieuThu","toggleModalCreatePhieuThu","openShowPhieuThu","warning","ngayLap","getTime","phieuThuService","khachHang","ten","ModalViewPhieuThu","toggleModalViewPhieuThu","FiPrinter","PhieuThu","DSPhieuThu","date","openCreatePhieuThu","isOpenModalCreatePhieuThu","isOpenModalViewPhieuThu","openModalViewPhieuThu","GoPaste","getDSKhachHang","searchKhachHang","ModalCreateKhachHang","toggleModalCreateKhachHang","createKhachHang","ModalEditKhachHang","toggleModalEditKhachHang","editKhachHang","tienNo","ModalDeleteKhachHang","toggleModalDeleteKhachHang","deleteKhachHang","KhachHang","khachHangService","DSKhachHang","openCreateKhachHang","isOpenModalCreateKhachHang","openEditKhachHang","isOpenModalEditKhachHang","khachHangEdit","openDeleteKhachHang","isOpenModalDeleteKhachHang","getDSPhieuNhap","idPN","searchPhieuNhap","sach","ModalShowPhieuNhap","toggleModalShowPhieuNhap","createPhieuNhap","CTPN","donGiaNhap","ModalCreatePhieuNhap","CT","toggleModalCreatePhieuNhap","referSach","phieuNhapService","ct","addCTPN","deleteCTPN","newCTPN","concat","openShowPhieuNhap","isOpenModalShowPhieuNhap","ModalViewPhieuNhap","toggleModalViewPhieuNhap","PN","PhieuNhap","DSPhieuNhap","openCreatePhieuNhap","isOpenModalCreatePhieuNhap","isOpenModalViewPhieuNhap","openModalViewPhieuNhap","getDSHoaDon","idHD","searchHoaDon","ModalShowHoaDon","toggleModalShowHoaDon","createHoaDon","CTHD","colSpan","tongTien","soTienTra","tienTraLai","no","ModalCreateHoaDon","toggleModalCreateHoaDon","addCTHD","hoaDonService","thanhTien","openShowHoaDon","deleteCTHD","tien","newCTHD","isOpenModalShowHoaDon","ModalViewHoaDon","toggleModalViewHoaDon","HD","HoaDon","DSHoaDon","openCreateHoaDon","isOpenModalCreateHoaDon","isOpenModalViewHoaDon","openModalViewHoaDon","getBaoCao","month","year","ModalShowBaoCao","toggleModalShowBaoCao","baoCao","loai","thang","nam","tonDau","phatSinh","tonCuoi","noDau","noCuoi","BaoCao","openShowBaoCao","isOpenModalShowBaoCao","openModalShowBaoCao","time","split","baoCaoService","ConfirmModal","handlerKeyDown","which","keyCode","acceptBtnRef","click","onAcceptBtnClick","onClose","setContentOfConfirmModal","addEventListener","componentWillUnmount","removeEventListener","FormattedMessage","lang","App","handlePersistorState","bootstrapped","getState","purge","onBeforeLift","Promise","resolve","then","catch","Fragment","Router","Switch","Route","exact","component","ToastContainer","Boolean","hostname","match","getMessageByKey","getFlattenedMessages","IntlProviderWrapper","IntlProvider","locale","defaultLocale","ReactDOM","Provider","store","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c761c969.chunk.js","sourcesContent":["const actionTypes = Object.freeze({\r\n    //app\r\n    APP_START_UP_COMPLETE: 'APP_START_UP_COMPLETE',\r\n    SET_CONTENT_OF_CONFIRM_MODAL: 'SET_CONTENT_OF_CONFIRM_MODAL',\r\n\r\n    //admin\r\n    // ADMIN_LOGIN_SUCCESS: 'ADMIN_LOGIN_SUCCESS',\r\n    // ADMIN_LOGIN_FAIL: 'ADMIN_LOGIN_FAIL',\r\n    // PROCESS_LOGOUT: 'PROCESS_LOGOUT',\r\n\r\n    //user\r\n    ADD_USER_SUCCESS: 'ADD_USER_SUCCESS',\r\n    USER_LOGIN_SUCCESS: 'USER_LOGIN_SUCCESS',\r\n    USER_LOGIN_FAIL: 'USER_LOGIN_FAIL',\r\n    PROCESS_LOGOUT: 'PROCESS_LOGOUT',\r\n})\r\n\r\nexport default actionTypes;","import actionTypes from '../actions/actionTypes';\r\n\r\nconst initContentOfConfirmModal = {\r\n    isOpen: false,\r\n    messageId: \"\",\r\n    handleFunc: null,\r\n    dataFunc: null\r\n}\r\n\r\nconst initialState = {\r\n    started: true,\r\n    language: 'vi',\r\n    systemMenuPath: '/system/user-manage',\r\n    contentOfConfirmModal: {\r\n        ...initContentOfConfirmModal\r\n    }\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case actionTypes.APP_START_UP_COMPLETE: \r\n            return {\r\n                ...state,\r\n                started: true\r\n            }\r\n        case actionTypes.SET_CONTENT_OF_CONFIRM_MODAL: \r\n            return {\r\n                ...state,\r\n                contentOfConfirmModal: {\r\n                    ...state.contentOfConfirmModal,\r\n                    ...action.contentOfConfirmModal\r\n                }\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default appReducer;","import actionTypes from '../actions/actionTypes';\r\n\r\nconst initialState = {\r\n    isLoggedIn: false,\r\n    userInfo: null\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case actionTypes.USER_LOGIN_SUCCESS:\r\n            return {\r\n                ...state,\r\n                isLoggedIn: true,\r\n                userInfo: action.userInfo\r\n            }\r\n        case actionTypes.USER_LOGIN_FAIL:\r\n            return {\r\n                ...state,\r\n                isLoggedIn: false,\r\n                userInfo: null\r\n            }\r\n        case actionTypes.PROCESS_LOGOUT:\r\n            return {\r\n                ...state,\r\n                isLoggedIn: false,\r\n                userInfo: null\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default appReducer;","import { combineReducers } from 'redux';\r\nimport { connectRouter } from 'connected-react-router';\r\n\r\nimport appReducer from \"./appReducer\";\r\n// import adminReducer from \"./adminReducer\";\r\nimport userReducer from \"./userReducer\";\r\n\r\nimport autoMergeLevel2 from 'redux-persist/lib/stateReconciler/autoMergeLevel2';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport { persistReducer } from 'redux-persist';\r\n\r\nconst persistCommonConfig = {\r\n    storage: storage,\r\n    stateReconciler: autoMergeLevel2,\r\n};\r\n\r\nconst userPersistConfig = {\r\n    ...persistCommonConfig,\r\n    key: 'user',\r\n    whitelist: ['isLoggedIn', 'userInfo']\r\n};\r\n\r\nexport default (history) => combineReducers({\r\n    router: connectRouter(history),\r\n    user: persistReducer(userPersistConfig, userReducer),\r\n    app: appReducer\r\n})","import { logger } from \"redux-logger\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { routerMiddleware } from 'connected-react-router';\r\nimport { createBrowserHistory } from 'history';\r\n\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\nimport { createStateSyncMiddleware } from 'redux-state-sync';\r\nimport { persistStore } from 'redux-persist';\r\n\r\nimport createRootReducer from './store/reducers/rootReducer';\r\nimport actionTypes from './store/actions/actionTypes';\r\n\r\nconst environment = process.env.NODE_ENV || \"development\";\r\nlet isDevelopment = environment === \"development\";\r\n\r\n//hide redux logs\r\nisDevelopment = false;\r\n\r\n\r\nexport const history = createBrowserHistory({ basename: process.env.REACT_APP_ROUTER_BASE_NAME });\r\n\r\nconst reduxStateSyncConfig = {\r\n    whitelist: [\r\n        actionTypes.APP_START_UP_COMPLETE,\r\n    ]\r\n}\r\n\r\nconst rootReducer = createRootReducer(history);\r\nconst middleware = [\r\n    routerMiddleware(history),\r\n    thunkMiddleware,\r\n    createStateSyncMiddleware(reduxStateSyncConfig),\r\n]\r\nif (isDevelopment) middleware.push(logger);\r\n\r\nconst composeEnhancers = (isDevelopment && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : compose;\r\n\r\nconst reduxStore = createStore(\r\n    rootReducer,\r\n    composeEnhancers(applyMiddleware(...middleware)),\r\n)\r\n\r\nexport const dispatch = reduxStore.dispatch;\r\n\r\nexport const persistor = persistStore(reduxStore);\r\n\r\nexport default reduxStore;","import locationHelperBuilder from \"redux-auth-wrapper/history4/locationHelper\";\r\nimport { connectedRouterRedirect } from \"redux-auth-wrapper/history4/redirect\";\r\n\r\nconst locationHelper = locationHelperBuilder({});\r\n\r\nexport const userIsAuthenticated = connectedRouterRedirect({\r\n    authenticatedSelector: state => state.user.isLoggedIn,\r\n    wrapperDisplayName: 'UserIsAuthenticated',\r\n    redirectPath: '/login'\r\n});\r\n\r\nexport const userIsNotAuthenticated = connectedRouterRedirect({\r\n    // Want to redirect the user when they are authenticated\r\n    authenticatedSelector: state => !state.user.isLoggedIn,\r\n    wrapperDisplayName: 'UserIsNotAuthenticated',\r\n    redirectPath: (state, ownProps) => locationHelper.getRedirectQueryParam(ownProps) || '/',\r\n    allowRedirectBack: false\r\n});","export const path = {\r\n    HOME: '/',\r\n    LOGIN: '/login',\r\n    LOGOUT: '/logout',\r\n    PHIEUNHAP: '/ql-nhapsach',\r\n    HOADON: '/ql-bansach',\r\n    KHACHHANG: '/ql-khachhang',\r\n    TAIKHOAN: '/ql-taikhoan',\r\n    PHIEUTHU: '/ql-thutien',\r\n    SACH: '/tracuu-sach',\r\n    BAOCAO: '/baocao'\r\n};\r\n\r\nexport const languages = {\r\n    VI: 'vi',\r\n    EN: 'en'\r\n};\r\n\r\nexport const manageActions = {\r\n    ADD: \"ADD\",\r\n    EDIT: \"EDIT\",\r\n    DELETE: \"DELETE\"\r\n};\r\n\r\nexport const dateFormat = {\r\n    SEND_TO_SERVER: 'DD/MM/YYYY'\r\n};\r\n\r\nexport const YesNoObj = {\r\n    YES: 'Y',\r\n    NO: 'N'\r\n}","class KeyCodeUtils {\r\n\r\n    static UP = 38;\r\n\r\n    static DOWN = 40;\r\n\r\n    static TAB = 9;\r\n\r\n    static ENTER = 13;\r\n\r\n    static E = 69;\r\n\r\n    static ESCAPE = 27; \r\n\r\n    static isNavigation(e) {\r\n        return (e >= 33 && e <= 40) || e === 9 || e === 8 || e === 46 || e === 14 || e === 13;\r\n    }\r\n\r\n    static isNumeric(e) {\r\n        return (e >= 48 && e <= 57) || (e >= 96 && e <= 105);\r\n    }\r\n    static isAlphabetic(e) {\r\n        return (e >= 65 && e <= 90);\r\n    }\r\n    static isDecimal(e) {\r\n        return e === 190 || e === 188 || e === 108 || e === 110;\r\n    }\r\n\r\n    static isDash(e) {\r\n        return e === 109 || e === 189;\r\n    }\r\n}\r\n\r\nexport default KeyCodeUtils;","import messages_vi from '../translations/vi.json';\r\nimport messages_en from '../translations/en.json';\r\n\r\nconst flattenMessages = ((nestedMessages, prefix = '') => {\r\n    if (nestedMessages == null) {\r\n        return {}\r\n    }\r\n    return Object.keys(nestedMessages).reduce((messages, key) => {\r\n        const value = nestedMessages[key];\r\n        const prefixedKey = prefix ? `${prefix}.${key}` : key;\r\n\r\n        if (typeof value === 'string') {\r\n            Object.assign(messages, {[prefixedKey]: value})\r\n        } else {\r\n            Object.assign(messages, flattenMessages(value, prefixedKey))\r\n        }\r\n\r\n        return messages\r\n    }, {})\r\n});\r\n\r\nconst messages = {\r\n    'vi': flattenMessages(messages_vi),\r\n    'en': flattenMessages(messages_en),\r\n};\r\n\r\nexport default class LanguageUtils {\r\n    static getMessageByKey(key, lang) {\r\n        return messages[lang][key]\r\n    }\r\n\r\n    static getFlattenedMessages() {\r\n        return messages;\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\n\r\nimport './CustomScrollbars.scss';\r\n\r\nclass CustomScrollbars extends Component {\r\n\r\n    ref = React.createRef();\r\n\r\n    getScrollLeft =()=>{\r\n        const scrollbars = this.ref.current;\r\n        return scrollbars.getScrollLeft();\r\n    }\r\n    getScrollTop =()=>{\r\n        const scrollbars = this.ref.current;\r\n        return scrollbars.getScrollTop();\r\n    }\r\n\r\n    scrollToBottom = () => {\r\n        if (!this.ref || !this.ref.current) {\r\n            return;\r\n        }\r\n        const scrollbars = this.ref.current;\r\n        const targetScrollTop = scrollbars.getScrollHeight();\r\n        this.scrollTo(targetScrollTop);\r\n    };\r\n\r\n    scrollTo = (targetTop) => {\r\n        const { quickScroll } = this.props;\r\n        if (!this.ref || !this.ref.current) {\r\n            return;\r\n        }\r\n        const scrollbars = this.ref.current;\r\n        const originalTop = scrollbars.getScrollTop();\r\n        let iteration = 0;\r\n\r\n        const scroll = () => {\r\n            iteration++;\r\n            if (iteration > 30) {\r\n                return;\r\n            }\r\n            scrollbars.scrollTop(originalTop + (targetTop - originalTop) / 30 * iteration);\r\n\r\n            if (quickScroll && quickScroll === true) {\r\n                scroll();\r\n            } else {\r\n                setTimeout(() => {\r\n                    scroll();\r\n                }, 20);\r\n            }\r\n        };\r\n\r\n        scroll();\r\n    };\r\n\r\n    renderTrackHorizontal = (props) => {\r\n        return (\r\n            <div {...props} className=\"track-horizontal\" />\r\n        );\r\n    };\r\n\r\n    renderTrackVertical = (props) => {\r\n        return (\r\n            <div {...props} className=\"track-vertical\" />\r\n        );\r\n    };\r\n\r\n    renderThumbHorizontal = (props) => {\r\n        return (\r\n            <div {...props} className=\"thumb-horizontal\" />\r\n        );\r\n    };\r\n\r\n    renderThumbVertical = (props) => {\r\n        return (\r\n            <div {...props} className=\"thumb-vertical\" />\r\n        );\r\n    };\r\n\r\n    renderNone = (props) => {\r\n        return (\r\n            <div />\r\n        );\r\n    };\r\n\r\n    render() {\r\n        const { className, disableVerticalScroll, disableHorizontalScroll, children,...otherProps } = this.props;\r\n        return (\r\n            <Scrollbars\r\n                ref={this.ref}\r\n                autoHide={true}\r\n                autoHideTimeout={200}\r\n                hideTracksWhenNotNeeded={true}\r\n                className={className ? className + ' custom-scrollbar' : 'custom-scrollbar'}\r\n                {...otherProps}\r\n                renderTrackHorizontal={disableHorizontalScroll ? this.renderNone : this.renderTrackHorizontal}\r\n                renderTrackVertical={disableVerticalScroll ? this.renderNone : this.renderTrackVertical}\r\n                renderThumbHorizontal={disableHorizontalScroll ? this.renderNone : this.renderThumbHorizontal}\r\n                renderThumbVertical={disableVerticalScroll ? this.renderNone : this.renderThumbVertical}\r\n            >\r\n                {children}\r\n            </Scrollbars>\r\n        );\r\n    }\r\n}\r\n\r\nexport default CustomScrollbars;","import React, { Component, Fragment } from 'react';\r\nimport { FormattedMessage, FormattedTime } from 'react-intl';\r\n\r\nimport CustomScrollBar from '../components/CustomScrollbars';\r\n\r\nimport './CustomToast.scss';\r\n\r\nclass CustomToast extends Component {\r\n\r\n    render() {\r\n        const { titleId, message, messageId, time } = this.props;\r\n        return (\r\n            <Fragment>\r\n                <div className=\"custom-toast\">\r\n                    <div className=\"toast-title\">\r\n                        {time && (\r\n                            <span className=\"date\">\r\n                                <FormattedTime hour='numeric' minute='numeric' second='numeric' hour12={true} value={time} />\r\n                            </span>\r\n                        )}\r\n                        <i className=\"fa fa-fw fa-exclamation-triangle\" />\r\n                        <FormattedMessage id={titleId} />\r\n                    </div>\r\n                    {\r\n                        (message && typeof message === 'object') ?\r\n                            <CustomScrollBar autoHeight={true} autoHeightMin={50} autoHeightMax={100}>\r\n                                {\r\n                                    message.map((msg, index) => {\r\n                                        return (\r\n                                            <Fragment key={index}>\r\n                                                <div className=\"toast-content\">{msg}</div>\r\n                                            </Fragment>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </CustomScrollBar> :\r\n                            <div className=\"toast-content\">\r\n                                {message ? message : (messageId ? (<FormattedMessage id={messageId} />) : null)}\r\n                            </div>\r\n                    }\r\n                </div>\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport class CustomToastCloseButton extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <button type=\"button\" className=\"toast-close\" onClick={this.props.closeToast}>\r\n                <i className=\"fa fa-fw fa-times-circle\" />\r\n            </button>\r\n        );\r\n    }\r\n}\r\n\r\nexport default CustomToast;","import React from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport axios from 'axios';\r\n\r\nimport CustomToast from \"../components/CustomToast\";\r\n\r\nconst TYPE_SUCCESS = 'SUCCESS';\r\nconst TYPE_INFO = 'INFO';\r\nconst TYPE_WARN = 'WARN';\r\nconst TYPE_ERROR = 'ERROR';\r\n\r\nclass ToastUtil {\r\n\r\n    static success(title, message) {\r\n        this.show(TYPE_SUCCESS, title, message);\r\n    }\r\n\r\n    static info(title, message) {\r\n        this.show(TYPE_INFO, title, message);\r\n    }\r\n\r\n    static warn(title, message) {\r\n        this.show(TYPE_WARN, title, message);\r\n    }\r\n\r\n    static error(title, message) {\r\n        this.show(TYPE_ERROR, title, message);\r\n    }\r\n\r\n    static successRaw(title, message) {\r\n        this.show(TYPE_SUCCESS, title, message, true);\r\n    }\r\n\r\n    static errorRaw(title, message, autoCloseDelay = 3000) {\r\n        this.show(TYPE_ERROR, title, message, true, autoCloseDelay);\r\n    }\r\n    static errorApi(error, title = 'common.fail-to-load-data', autoCloseDelay = 3000) {\r\n        if (axios.isCancel(error)) {\r\n            // Do nothing if request was cancelled\r\n            return;\r\n        }\r\n        let message = null;\r\n        let messageId = 'common.unknown-error';\r\n        if (error.httpStatusCode >= 500) {\r\n            messageId = 'common.internal-server-error';\r\n        } else if (error.httpStatusCode < 500 && error.httpStatusCode >= 400) {\r\n            if (error.httpStatusCode === 400) {\r\n                messageId = 'common.bad-request';\r\n            } else if (error.httpStatusCode === 403) {\r\n                messageId = 'common.forbiden-request';\r\n            }\r\n        } else {\r\n            // Request fail even server was returned a success response\r\n            if (error.errorMessage) {\r\n                message = error.errorMessage\r\n            }\r\n        }\r\n        toast.error(<CustomToast titleId={title} message={message} messageId={messageId} time={new Date()} />, {\r\n            position: toast.POSITION.BOTTOM_RIGHT,\r\n            pauseOnHover: true,\r\n            autoClose: autoCloseDelay\r\n        });\r\n    }\r\n\r\n    static show(type, title, message, rawMessage = false, autoCloseDelay = 3000) {\r\n        const content = <CustomToast titleId={title} messageId={rawMessage ? null : message} message={rawMessage ? message : null} time={new Date()} />;\r\n        const options = {\r\n            position: toast.POSITION.BOTTOM_RIGHT,\r\n            pauseOnHover: true,\r\n            autoClose: autoCloseDelay\r\n        };\r\n\r\n        switch (type) {\r\n            case TYPE_SUCCESS:\r\n                toast.success(content, options);\r\n                break;\r\n            case TYPE_INFO:\r\n                toast.info(content, options);\r\n                break;\r\n            case TYPE_WARN:\r\n                toast.warn(content, options);\r\n                break;\r\n            case TYPE_ERROR:\r\n                toast.error(content, options);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n}\r\n\r\nexport default ToastUtil;","import axios from 'axios';\r\nimport _ from 'lodash';\r\n\r\n\r\nconst instance = axios.create({\r\n    baseURL: process.env.REACT_APP_BACKEND_URL,\r\n    // withCredentials: true\r\n});\r\n\r\ninstance.interceptors.response.use(\r\n    (response) => {\r\n        // Thrown error for request with OK status code\r\n        const { data } = response;\r\n        return response.data;\r\n    })\r\n\r\nexport default instance;\r\n","import { defaults } from \"lodash\"\r\nimport axios from \"../axios\"\r\n\r\n//LOGIN\r\nconst handleLogin = (username, password) => {\r\n    return axios.post(\"/login\", {\r\n        username: username,\r\n        password: password,\r\n    })\r\n}\r\n\r\n\r\n//LY DANH SCH TI KHON\r\nconst getDSTaiKhoan = () => {\r\n    return axios.get('/get-ds-taikhoan')\r\n}\r\n\r\n\r\n//THM TI KHON MI\r\nconst createTaiKhoan = (data) => {\r\n    return axios.post('/create-taikhoan', data)\r\n}\r\n\r\n\r\n//CHNH SA TI KHON \r\nconst editTaiKhoan = (data) => {\r\n    return axios.put('/edit-taikhoan', data)\r\n}\r\n\r\n\r\n//XA TI KHON\r\nconst deleteTaiKhoan = (idTK) => {\r\n    return axios.delete('/delete-taikhoan', {\r\n        data: {\r\n            idTK: idTK\r\n        }\r\n    })\r\n}\r\n\r\n\r\n//TM KIM TI KHON\r\nconst searchTaiKhoan = (type, keyword) => {\r\n    return axios.get('/search-taikhoan',{\r\n        params:{\r\n            type: type,\r\n            keyword: keyword\r\n        }\r\n    })\r\n}\r\n\r\nexport default {\r\n    handleLogin,\r\n    getDSTaiKhoan,\r\n    searchTaiKhoan,\r\n    createTaiKhoan,\r\n    editTaiKhoan,\r\n    deleteTaiKhoan,\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { push } from \"connected-react-router\";\r\n\r\nimport * as actions from \"../../store/actions\";\r\n\r\nimport './Login.scss';\r\n\r\nimport taiKhoanService from '../../services/taiKhoanService.js'\r\n\r\n\r\nclass Login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: \"\",\r\n            password: \"\",\r\n            isShowPassword: false,\r\n            message: \"\"\r\n        }\r\n    }\r\n\r\n    handleOnChangeUsername = (event) => {\r\n        this.setState({\r\n            username: event.target.value\r\n        })\r\n    }\r\n\r\n    handleOnChangePassword = (event) => {\r\n        this.setState({\r\n            password: event.target.value\r\n        })\r\n    }\r\n\r\n    handleLogin = async () => {\r\n        this.setState({\r\n            message: \"\"\r\n        })\r\n\r\n        try {\r\n            let data = await taiKhoanService.handleLogin(this.state.username, this.state.password)\r\n            if (data && data.errCode != 0) {\r\n                this.setState({\r\n                    message: data.message\r\n                })\r\n            }\r\n            else if (data && data.errCode == 0) {\r\n                this.props.userLoginSuccess(data.taiKhoan)\r\n                console.log('ng nhp thnh cng!')\r\n            }\r\n        } catch (e) {\r\n            if (e.response) {\r\n                if (e.response.data) {\r\n                    this.setState({\r\n                        message: e.response.data.message\r\n                    })\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    handleShowHidePassword = () => {\r\n        this.setState({\r\n            isShowPassword: !this.state.isShowPassword\r\n        })\r\n    }\r\n\r\n    handleKeyDown = (event) => {\r\n        if (event.key === 'Enter') {\r\n            const inputElements = document.querySelectorAll('.login-container input');\r\n            const currentIndex = Array.from(inputElements).indexOf(event.target);\r\n            if (currentIndex < inputElements.length - 1) {\r\n                inputElements[currentIndex + 1].focus();\r\n            } else {\r\n                this.handleLogin();\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='login-background'>\r\n                <div className='login-container'>\r\n                    <div className='col-12 text-center text-login'>WELCOME!</div>\r\n                    <input type=\"text\" className='form-control_username'\r\n                        placeholder='Username' value={this.state.username}\r\n                        onChange={(event) => this.handleOnChangeUsername(event)}\r\n                        onKeyDown={this.handleKeyDown} />\r\n\r\n                    <input type={this.state.isShowPassword ? 'text' : \"password\"} className='form-control_password'\r\n                        placeholder='Password' value={this.state.password}\r\n                        onChange={(event) => this.handleOnChangePassword(event)}\r\n                        onKeyDown={this.handleKeyDown} />\r\n                    <span onClick={() => { this.handleShowHidePassword() }}>\r\n                        <i className={this.state.isShowPassword ? \"far fa-eye-slash\" : \"far fa-eye\"}></i>\r\n                    </span>\r\n                    <div className='col-12 text-center message' style={{ color: \"red\" }}>\r\n                            {this.state.message}\r\n                    </div>\r\n                    <div className='col-12'>\r\n                        <button className='btn-login' onClick={() => { this.handleLogin() }}>LOGIN</button>\r\n                    </div>\r\n                    <div className='col-12 text-center forgot-password'>Forgot password?</div>\r\n\r\n                </div>\r\n                <div className='login-background2'> </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        languge: state.app.language\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        navigate: (path) => dispatch(push(path)),\r\n        // userLoginFail: () => dispatch(actions.adminLoginFail()),\r\n        userLoginSuccess: (userInfo) => dispatch(actions.userLoginSuccess(userInfo))\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","import actionTypes from './actionTypes';\r\n\r\nexport const addUserSuccess = () => ({\r\n    type: actionTypes.ADD_USER_SUCCESS\r\n})\r\n\r\nexport const userLoginSuccess = (userInfo) => ({\r\n    type: actionTypes.USER_LOGIN_SUCCESS,\r\n    userInfo: userInfo\r\n})\r\n\r\nexport const userLoginFail = () => ({\r\n    type: actionTypes.USER_LOGIN_FAIL\r\n})\r\n\r\nexport const processLogout = () => ({\r\n    type: actionTypes.PROCESS_LOGOUT\r\n})","import React, { Component } from 'react';\r\n\r\n\r\nexport const Sidebar = {\r\n    1: [{\r\n        title: \"TRANG CH\",\r\n        path: '/',\r\n        cName: 'nav-text',\r\n\r\n    },\r\n    {\r\n        title: \"QUN L TI KHON\",\r\n        path: '/ql-taikhoan',\r\n        cName: 'nav-text',\r\n\r\n    },\r\n    {\r\n        title: \"TRA CU SCH\",\r\n        path: '/tracuu-sach',\r\n        cName: 'nav-text',\r\n\r\n    },\r\n    {\r\n        title: \"QUN L KHCH HNG\",\r\n        path: '/ql-khachhang',\r\n        cName: 'nav-text',\r\n\r\n    },\r\n    {\r\n        title: \"QUN L NHP SCH\",\r\n        path: '/ql-nhapsach',\r\n        cName: 'nav-text',\r\n\r\n    },\r\n    {\r\n        title: \"QUN L BN SCH\",\r\n        path: '/ql-bansach',\r\n        cName: 'nav-text',\r\n\r\n    },\r\n    {\r\n        title: \"QUN L THU TIN\",\r\n        path: '/ql-thutien',\r\n        cName: 'nav-text',\r\n\r\n    },\r\n    {\r\n        title: \"LP BO CO\",\r\n        path: '/baocao',\r\n        cName: 'nav-text',\r\n\r\n    },\r\n    ],\r\n\r\n    2: [{\r\n        title: \"TRANG CH\",\r\n        path: '/',\r\n        cName: 'nav-text',\r\n\r\n    },\r\n\r\n    {\r\n        title: \"TRA CU SCH\",\r\n        path: '/tracuu-sach',\r\n        cName: 'nav-text',\r\n\r\n    },\r\n\r\n    {\r\n        title: \"QUN L NHP SCH\",\r\n        path: '/ql-nhapsach',\r\n        cName: 'nav-text',\r\n\r\n    },\r\n\r\n    {\r\n        title: \"LP BO CO\",\r\n        path: '/baocao',\r\n        cName: 'nav-text',\r\n\r\n    },],\r\n\r\n    3: [\r\n        {\r\n            title: \"TRANG CH\",\r\n            path: '/',\r\n            cName: 'nav-text',\r\n\r\n        },\r\n\r\n        {\r\n            title: \"TRA CU SCH\",\r\n            path: '/tracuu-sach',\r\n            cName: 'nav-text',\r\n\r\n        },\r\n        {\r\n            title: \"QUN L KHCH HNG\",\r\n            path: '/ql-khachhang',\r\n            cName: 'nav-text',\r\n\r\n        },\r\n\r\n        {\r\n            title: \"QUN L BN SCH\",\r\n            path: '/ql-bansach',\r\n            cName: 'nav-text',\r\n\r\n        },\r\n        {\r\n            title: \"QUN L THU TIN\",\r\n            path: '/ql-thutien',\r\n            cName: 'nav-text',\r\n\r\n        },\r\n    ]\r\n}","import React, { Component } from 'react';\r\nimport * as faIcons from \"react-icons/fa\"\r\nimport { connect } from 'react-redux';\r\nimport { AiOutlineClose } from \"react-icons/ai\"\r\nimport { Link } from 'react-router-dom';\r\nimport { Sidebar } from './Sidebar';\r\nimport './Header.scss'\r\nimport * as actions from \"../../store/actions\";\r\n\r\n\r\n\r\nclass Header extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            sidebar: false,\r\n            activeItem: \"\",\r\n            vaiTro: ['Admin', 'Th Kho', 'Nhn Vin Bn Hng']\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            activeItem: window.location.pathname\r\n        })\r\n    }\r\n\r\n    showSidebar = () => {\r\n        this.setState(\r\n            {\r\n                sidebar: !this.state.sidebar\r\n            });\r\n    };\r\n\r\n    setActiveItem = (path) => {\r\n        this.setState({ activeItem: path });\r\n    };\r\n\r\n    render() {\r\n        const { processLogout, userInfo } = this.props;\r\n        return (\r\n            <>\r\n                <div className='navbar'>\r\n                    <div>\r\n                        <Link to=\"#\" className='menu-bars'>\r\n                            <faIcons.FaBars onClick={this.showSidebar} />\r\n                        </Link>\r\n                    </div>\r\n\r\n                    <div className='right-menu'>\r\n                        <span className='welcome'>Xin cho, {userInfo && userInfo.hoTen ? userInfo.hoTen : \"\"}!</span>\r\n                        {/* nt logout */}\r\n                        <div className=\"btn btn-logout\" onClick={processLogout}>\r\n                            <i className=\"fas fa-sign-out-alt\"></i>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <nav className={this.state.sidebar ? 'nav-menu active' : 'nav-menu'}>\r\n                    <span className='navbar-toggle'>\r\n                        <Link to=\"#\" className='menu-bars'>\r\n                            <AiOutlineClose onClick={this.showSidebar} />\r\n                        </Link>\r\n                    </span>\r\n                    <div className='nav-menu-items'>\r\n                        <div>\r\n                            {Sidebar[userInfo.vaiTro].map((item, index) => {\r\n                                return (\r\n                                    <div key={index} className={`${item.cName} ${this.state.activeItem === item.path ? 'active' : ''}`} onClick={this.showSidebar} >\r\n                                        <Link to={item.path} onClick={() => this.setActiveItem(item.path)}>\r\n                                            <span className='item-title' >{item.title}</span>\r\n                                        </Link>\r\n                                    </div>\r\n                                )\r\n                            })}\r\n                        </div>\r\n\r\n                    </div>\r\n                </nav>\r\n\r\n            </>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        isLoggedIn: state.user.isLoggedIn,\r\n        userInfo: state.user.userInfo\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        processLogout: () => dispatch(actions.processLogout()),\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);\r\n","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport './Home.scss'\r\nclass Home extends Component {\r\n\r\n    render() {\r\n        const { isLoggedIn } = this.props;\r\n        let linkToRedirect = isLoggedIn ? '/' : '/login';\r\n\r\n        return (\r\n            <>\r\n                <Redirect to={linkToRedirect} />\r\n                <div className='home-body-container'>\r\n                    <div className='img'></div>\r\n                    <div className='background_1'></div>\r\n                    <div className='background_2'></div>\r\n                </div>\r\n            </>\r\n\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        isLoggedIn: state.user.isLoggedIn \r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);","import axios from \"../axios\"\r\n\r\n//LY DANH SCH SCH\r\nconst getDSSach = () => {\r\n    return axios.get('/get-ds-sach')\r\n}\r\n\r\n//TM KIM SCH\r\nconst searchSach = (type, keyword) => {\r\n    return axios.get('/search-sach',{\r\n        params:{\r\n            type: type,\r\n            keyword: keyword\r\n        }\r\n    })\r\n}\r\n\r\nexport default{\r\n    getDSSach,\r\n    searchSach,\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport './Sach.scss'\r\nimport sachService from \"../../services/sachService\"\r\nimport { toast } from 'react-toastify';\r\nclass Sach extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            DSSach: [],\r\n            type: \"\",\r\n            keyword: \"\",\r\n        }\r\n    }\r\n    async componentDidMount() {\r\n        await this.getDSSach()\r\n    }\r\n    async componentDidMount() {\r\n        await this.getDSSach()\r\n    }\r\n\r\n    thongBao = (errCode, message) => {\r\n        let prop = {\r\n            position: toast.POSITION.TOP_CENTER,\r\n            autoClose: 2000,\r\n            closeButton: false,\r\n            className: 'custom-toast',\r\n            bodyClassName: 'custom-toast-body'\r\n        }\r\n        if (errCode === 0) {\r\n            toast.success(message, prop)\r\n        }\r\n        else {\r\n            toast.error(message, prop)\r\n        }\r\n    }\r\n\r\n\r\n    handleOnChange = (event, id) => {\r\n        let copyState = { ...this.state }\r\n        copyState[id] = event.target.value\r\n        this.setState({\r\n            ...copyState\r\n        })\r\n        console.log(this.state[id])\r\n    }\r\n\r\n\r\n    //GI API LY DANH SCH TI KHON\r\n    getDSSach = async () => {\r\n        let response = await sachService.getDSSach()\r\n        if (response && response.errCode === 0) {\r\n            this.setState({\r\n                DSSach: response.DSSach\r\n            })\r\n        }\r\n    }\r\n\r\n    //----------------------------------------------------------------------------------------------\r\n    //GI API TM KIM TI KHON\r\n    searchSach = async (type, keyword) => {\r\n        try {\r\n            if (!type) {\r\n                this.thongBao(-1, \"Vui lng chn mc tm kim!\")\r\n            }\r\n            else {\r\n                if (!keyword) {\r\n                    this.thongBao(-1, \"Vui lng nhp t kha tm kim!\")\r\n                }\r\n                else {\r\n                    let response = await sachService.searchSach(type, keyword)\r\n                    if (response && response.errCode === 0) {\r\n                        this.setState({\r\n                            DSSach: response.DSSach\r\n                        })\r\n                    }\r\n                    else { this.thongBao(response.errCode, response.message) }\r\n                }\r\n            }\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n\r\n    handleKeyDown = (event) => {\r\n        if (event.key === 'Enter') {\r\n            const inputElements = document.querySelectorAll('.search input, .search select');\r\n            const currentIndex = Array.from(inputElements).indexOf(event.target);\r\n            if (currentIndex < inputElements.length - 1) {\r\n                inputElements[currentIndex + 1].focus();\r\n            } else {\r\n                this.searchSach(this.state.type, this.state.keyword)\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let DSSach = this.state.DSSach\r\n        return (\r\n            <div className=\"sach-container\">\r\n                <div className=\"title text-center\">Tra Cu Sch</div>\r\n                <div class=\"col-12\">\r\n                    <div class=\"search-container\">\r\n                        <div className='mt-1 mx-3'>\r\n                            <button className='btn px-3'\r\n                                onClick={() => this.getDSSach()}><u>Tt c sch</u></button>\r\n                        </div>\r\n                        <div class=\"form-group search-div\">\r\n                            <div class=\"search\">\r\n                                <span>\r\n                                    <select className='form-select type' onChange={(event) => { this.handleOnChange(event, \"type\") }} onKeyDown={this.handleKeyDown}>\r\n                                        <option value=\"\">Chn mc</option>\r\n                                        <option value=\"idSach\">M Sch</option>\r\n                                        <option value=\"tenSach\">Tn Sch</option>\r\n                                        <option value=\"theLoai\">Th Loi</option>\r\n                                        <option value=\"tacGia\">Tc Gi</option>\r\n                                        <option value=\"soLuong\">S Lng</option>\r\n                                        <option value=\"donGiaBan\">n Gi Bn</option>\r\n\r\n                                    </select>\r\n                                </span>\r\n                                <input type=\"text\" placeholder=\"Nhp t kha tm kim\" class=\"form-control keyword\" onChange={(event) => { this.handleOnChange(event, \"keyword\") }}\r\n                                    onKeyDown={this.handleKeyDown} />\r\n                            </div>\r\n                            <div class=\"search-btn\">\r\n                                <button type=\"submit\" class=\"btn btn-base\" onClick={() => { this.searchSach(this.state.type, this.state.keyword) }}> <i class=\"fas fa-search\"></i> </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className='sach-table mt-4 mx-3'>\r\n                    <table class=\"table table-striped mt-3\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th className='stt'>STT</th>\r\n                                <th className='stt'>M Sch</th>\r\n                                <th>Tn Sch</th>\r\n                                <th>Th Loi</th>\r\n                                <th>Tc Gi</th>\r\n                                <th className='soluong'>S Lng</th>\r\n                                <th className='dongiaban'>n Gi Bn</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {DSSach && DSSach.map((item, index) => {\r\n                                return (\r\n                                    <>\r\n                                        <tr key={index}>\r\n                                            <td className=\"stt\">{index + 1}</td>\r\n                                            <td className='stt'>{item.idSach}</td>\r\n                                            <td>{item.tenSach}</td>\r\n                                            <td>{item.theLoai}</td>\r\n                                            <td>{item.tacGia}</td>\r\n                                            <td className=\"soluong\">{item.soLuong}</td>\r\n                                            <td className=\"dongiaban\">{Number(item.donGiaBan).toLocaleString('vi-VN')}</td>\r\n                                        </tr>\r\n                                    </>\r\n                                )\r\n                            })\r\n                            }\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Sach);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport { toast } from 'react-toastify';\r\n\r\nclass ModalCreateTaiKhoan extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      taiKhoan: {\r\n        username: \"\",\r\n        password: \"\",\r\n        vaiTro: \"\",\r\n        hoTen: \"\",\r\n        diaChi: \"\",\r\n        sdt: \"\",\r\n      },\r\n    };\r\n  }\r\n\r\n  componentDidMount() { }\r\n\r\n  toggle = () => {\r\n    this.setState({\r\n      taiKhoan: {\r\n        username: \"\",\r\n        password: \"\",\r\n        vaiTro: \"\",\r\n        hoTen: \"\",\r\n        diaChi: \"\",\r\n        sdt: \"\",\r\n      },\r\n    });\r\n    this.props.toggleModalCreateTaiKhoan();\r\n  };\r\n\r\n  handleOnChange = (event, id) => {\r\n    let copyState = { ...this.state };\r\n    copyState.taiKhoan[id] = event.target.value;\r\n    this.setState({\r\n      ...copyState,\r\n    });\r\n  };\r\n\r\n  handleKeyDown = (event) => {\r\n    if (event.key === 'Enter') {\r\n      const inputElements = document.querySelectorAll('.modal-user-container input, .modal-user-container select');\r\n      const currentIndex = Array.from(inputElements).indexOf(event.target);\r\n      if (currentIndex < inputElements.length - 1) {\r\n        inputElements[currentIndex + 1].focus(); // Move focus to next input\r\n      } else {\r\n        this.createTaiKhoan(); // Submit on Enter in the last input\r\n      }\r\n    }\r\n  };\r\n\r\n  thongBao = (errCode, message) => {\r\n    let prop = {\r\n        position: toast.POSITION.TOP_CENTER,\r\n        autoClose: 2000,\r\n        closeButton: false,\r\n        className: 'custom-toast', // Thm class ty chnh\r\n        bodyClassName: 'custom-toast-body' // Thm class body ty chnh\r\n    }\r\n    if (errCode === 0) {\r\n        toast.success(message, prop)\r\n    }\r\n    else {\r\n        toast.error(message, prop)\r\n    }\r\n}\r\n\r\n  checklValidInput = () => {\r\n    let arrInput = ['username', 'password', 'vaiTro', 'hoTen', 'diaChi', 'sdt'];\r\n    let arr = ['Username', 'Password', 'Vai Tr', 'H Tn', 'a Ch', 'S in Thoi'];\r\n    for (let i = 0; i < arrInput.length; i++) {\r\n      if (!this.state.taiKhoan[arrInput[i]]) {\r\n        const inputElements = document.querySelectorAll('.modal-user-container input, .modal-user-container select');\r\n        this.thongBao(-1,`Vui lng in ${arr[i]}!` )\r\n        inputElements[i].focus()\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  };\r\n\r\n  createTaiKhoan = () => {\r\n    let isValid = this.checklValidInput();\r\n    if (isValid) {\r\n      this.props.createTaiKhoan(this.state.taiKhoan); // Defined in parent, called here\r\n    }\r\n  };\r\n\r\n\r\n  render() {\r\n    return (\r\n      <Modal isOpen={this.props.isOpen} toggle={() => { this.toggle() }}\r\n        className=\"modal-user-container\" size='lg' centered>\r\n        <ModalHeader toggle={() => { this.toggle() }}>\r\n          THM TI KHON\r\n        </ModalHeader>\r\n        <ModalBody>\r\n          <div className='container'>\r\n            <div className='row'>\r\n              <div className='col-6 form-group'>\r\n                <label>Username</label>\r\n                <input type=\"text\" className='form-control' required={true} onChange={(event) => { this.handleOnChange(event, \"username\") }} onKeyDown={this.handleKeyDown} />\r\n              </div>\r\n              <div className='col-6 form-group'>\r\n                <label>Password</label>\r\n                <input type=\"password\" className='form-control' required onChange={(event) => { this.handleOnChange(event, \"password\") }} onKeyDown={this.handleKeyDown} />\r\n              </div>\r\n              <div className=\"form-group mt-3\">\r\n                <label>Vai Tr</label>\r\n                <select className=\"form-select\" onChange={(event) => { this.handleOnChange(event, \"vaiTro\") }} onKeyDown={this.handleKeyDown}>\r\n                  <option value=\"\"></option>\r\n                  <option value=\"1\">Admin</option>\r\n                  <option value=\"2\">Th Kho</option>\r\n                  <option value=\"3\">Nhn Vin Bn Hng</option>\r\n                </select>\r\n              </div>\r\n              <div class=\"form-group mt-3\">\r\n                <label>H Tn</label>\r\n                <input type=\"text\" class=\"form-control\" required placeholder=\"Nguyn Vn A\" onChange={(event) => { this.handleOnChange(event, \"hoTen\") }} onKeyDown={this.handleKeyDown} />\r\n              </div>\r\n              <div class=\"form-group mt-3\">\r\n                <label>a Ch</label>\r\n                <input type=\"text\" className=\"form-control\" required placeholder=\"193/19 Nam K Khi Ngha, P7, Q3, TP.HCM\" onChange={(event) => { this.handleOnChange(event, \"diaChi\") }} onKeyDown={this.handleKeyDown} />\r\n              </div>\r\n              <div class=\"form-group mt-3\">\r\n                <label>S in Thoi</label>\r\n                <input type=\"tel\" className=\"form-control\" name=\"sdt\" onChange={(event) => { this.handleOnChange(event, \"sdt\") }} required onKeyDown={this.handleKeyDown} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </ModalBody>\r\n        <ModalFooter>\r\n          <Button type=\"submit\" color=\"primary\" className=\"submit px-2\" onClick={() => { this.createTaiKhoan() }}>\r\n            Thm\r\n          </Button>{' '}\r\n          <Button color=\"secondary\" className='exit px-2' onClick={() => { this.toggle() }}>\r\n            Thot\r\n          </Button>\r\n        </ModalFooter>\r\n      </Modal>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalCreateTaiKhoan);\r\n","import EventEmitter from 'events'\r\n\r\nconst _emitter = new EventEmitter()\r\n_emitter.setMaxListeners(0)\r\n\r\nexport const emitter = _emitter","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport { emitter } from '../../utils/emitter'\r\nimport _ from 'lodash'\r\nimport { toast } from 'react-toastify';\r\n\r\nclass ModalEditTaiKhoan extends Component {\r\n\r\n    constructor(props) {\r\n        super(props) //props = properties - truyn prop t cha xung con\r\n        this.state = {\r\n            taiKhoan: {\r\n                idTK: \"\",\r\n                username: \"\",\r\n                vaiTro: \"\",\r\n                hoTen: \"\",\r\n                diaChi: \"\",\r\n                sdt: \"\"\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        let taiKhoan = this.props.taiKhoan\r\n        //let { currentUser } = this.props\r\n        if (taiKhoan && !_.isEmpty(taiKhoan)) {\r\n            this.setState({\r\n                taiKhoan: {\r\n                    ...taiKhoan,\r\n                },\r\n            })\r\n        }\r\n    }\r\n\r\n    toggle = () => {\r\n        this.props.toggleModalEditTaiKhoan()\r\n    }\r\n\r\n    handleOnChange = (event, id) => {\r\n        let copyState = { ...this.state }\r\n        copyState.taiKhoan[id] = event.target.value\r\n        this.setState({\r\n            ...copyState\r\n        })\r\n    }\r\n\r\n    checklValidInput = () => {\r\n        let arrInput = [\"vaiTro\", \"hoTen\", \"diaChi\", \"sdt\"]\r\n        let arr = [\"Vai Tr\", \"H Tn\", \"a Ch\", \"S in Thoi\"]\r\n        for (let i = 0; i < arrInput.length; i++) {\r\n            if (!this.state.taiKhoan[arrInput[i]]) {\r\n                const inputElements = document.querySelectorAll('.modal-user-container input, .modal-user-container select');\r\n                this.thongBao(-1, `Vui lng in ${arr[i]}!`)\r\n                inputElements[i + 1].focus()\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n\r\n\r\n    //GI API CHNH SA THNG TIN TI KHON\r\n    editTaiKhoan = () => {\r\n        let isValid = this.checklValidInput()\r\n        if (isValid) {\r\n            this.props.editTaiKhoan(this.state.taiKhoan) //nh ngha  cha, gi  con\r\n        }\r\n    }\r\n\r\n    handleKeyDown = (event) => {\r\n        if (event.key === 'Enter') {\r\n            const inputElements = document.querySelectorAll('.modal-user-container input, .modal-user-container select');\r\n            const currentIndex = Array.from(inputElements).indexOf(event.target);\r\n            if (currentIndex < inputElements.length - 1) {\r\n                inputElements[currentIndex + 1].focus();\r\n            } else {\r\n                this.editTaiKhoan();\r\n            }\r\n        }\r\n    }\r\n\r\n    thongBao = (errCode, message) => {\r\n        let prop = {\r\n            position: toast.POSITION.TOP_CENTER,\r\n            autoClose: 2000,\r\n            closeButton: false,\r\n            className: 'custom-toast', // Thm class ty chnh\r\n            bodyClassName: 'custom-toast-body' // Thm class body ty chnh\r\n        }\r\n        if (errCode === 0) {\r\n            toast.success(message, prop)\r\n        }\r\n        else {\r\n            toast.error(message, prop)\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <Modal isOpen={this.props.isOpen} toggle={() => { this.toggle() }}\r\n                className=\"modal-user-container\" size='lg' centered>\r\n                <ModalHeader toggle={() => { this.toggle() }}>\r\n                    CP NHT THNG TIN TI KHON</ModalHeader>\r\n                <ModalBody>\r\n                    <div className='container'>\r\n                        <div className='row'>\r\n                            <div className='form-group'>\r\n                                <label >Username</label>\r\n                                <input type=\"text\" className='form-control' required={true} onChange={(event) => { this.handleOnChange(event, \"username\") }}\r\n                                    value={this.state.taiKhoan.username}\r\n                                    disabled />\r\n                            </div>\r\n\r\n                            <div className=\"form-group mt-3\">\r\n                                <label>Vai Tr</label>\r\n                                <select className=\"form-select\" onChange={(event) => { this.handleOnChange(event, \"vaiTro\") }} value={this.state.taiKhoan.vaiTro}\r\n                                    onKeyDown={this.handleKeyDown}>\r\n                                    <option value=\"\"></option>\r\n                                    <option value=\"1\">Admin</option>\r\n                                    <option value=\"2\">Th Kho</option>\r\n                                    <option value=\"3\">Nhn Vin Bn Hng</option>\r\n                                </select>\r\n                            </div>\r\n\r\n                            <div class=\"form-group mt-3\">\r\n                                <label>H Tn</label>\r\n                                <input type=\"text\" class=\"form-control\" required placeholder=\"Nguyn Vn A\" onChange={(event) => { this.handleOnChange(event, \"hoTen\") }} value={this.state.taiKhoan.hoTen} onKeyDown={this.handleKeyDown} />\r\n                            </div>\r\n\r\n                            <div class=\"form-group mt-3\">\r\n                                <label>a Ch</label>\r\n                                <input type=\"text\" className=\"form-control\" required\r\n                                    placeholder=\"193/19 Nam K Khi Ngha, P7, Q3, TP.HCM\" onChange={(event) => { this.handleOnChange(event, \"diaChi\") }} value={this.state.taiKhoan.diaChi} onKeyDown={this.handleKeyDown} />\r\n                            </div>\r\n\r\n                            <div class=\"form-group mt-3\">\r\n                                <label>S in Thoi</label>\r\n                                <input type=\"tel\" className=\"form-control\" name=\"sdt\" onChange={(event) => { this.handleOnChange(event, \"sdt\") }} required value={this.state.taiKhoan.sdt} onKeyDown={this.handleKeyDown} />\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                </ModalBody>\r\n                <ModalFooter>\r\n                    <Button type=\"submit\" color=\"primary\" className=\"submit px-2\" onClick={() => { this.editTaiKhoan() }}>\r\n                        Lu\r\n                    </Button>{' '}\r\n                    <Button color=\"secondary\" className='exit px-2' onClick={() => { this.toggle() }}>\r\n                        Thot\r\n                    </Button>\r\n                </ModalFooter>\r\n            </Modal>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalEditTaiKhoan);\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport { emitter } from '../../utils/emitter'\r\nimport _ from 'lodash'\r\n\r\nclass ModalDeleteTaiKhoan extends Component {\r\n\r\n    constructor(props) {\r\n        super(props) //props = properties - truyn prop t cha xung con\r\n        this.state = {\r\n            message: \"\",\r\n            id:\"\"\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        let id = this.props.id\r\n        if (id) {\r\n            this.setState({\r\n                id:id\r\n            })\r\n        }\r\n    }\r\n\r\n    toggle = () => {\r\n        this.setState({\r\n            message: \"\"\r\n        })\r\n        this.props.toggleModalDeleteTaiKhoan()\r\n    }\r\n\r\n\r\n    //GI API XA TI KHON\r\n    deleteTaiKhoan = () => {\r\n            this.props.deleteTaiKhoan(this.state.id) //nh ngha  cha, gi  con\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <Modal isOpen={this.props.isOpen} toggle={() => { this.toggle() }}\r\n                className=\"modal-user-container\" size='lg' centered>\r\n                <ModalHeader toggle={() => { this.toggle() }}>\r\n                    XA TI KHON?</ModalHeader>\r\n                <ModalBody>\r\n                    <div className='container'>\r\n                        <h5>Bn c chc chn mun xa ti khon ny?</h5>\r\n                    </div>\r\n                </ModalBody>\r\n                <ModalFooter>\r\n                    <Button type=\"submit\" color=\"danger\" className=\"delete px-2\" onClick={() => { this.deleteTaiKhoan() }}>\r\n                        Xa\r\n                    </Button>{' '}\r\n                    <Button color=\"secondary\" className='exit px-2' onClick={() => { this.toggle() }}>\r\n                        Thot\r\n                    </Button>\r\n                </ModalFooter>\r\n            </Modal>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalDeleteTaiKhoan);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './TaiKhoan.scss'\r\nimport taiKhoanService from '../../services/taiKhoanService.js';\r\nimport ModalCreateTaiKhoan from './ModalCreateTaiKhoan';\r\nimport ModalEditTaiKhoan from \"./ModalEditTaiKhoan\"\r\nimport ModalDeleteTaiKhoan from \"./ModalDeleteTaiKhoan\"\r\nimport { toast } from 'react-toastify';\r\nimport { LuTrash2 } from \"react-icons/lu\";\r\nimport { FiEdit } from \"react-icons/fi\";\r\n\r\n\r\nclass TaiKhoan extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            DSTaiKhoan: [],\r\n            isOpenModalCreateTaiKhoan: false,\r\n            isOpenModalEditTaiKhoan: false,\r\n            isOpenModalDeleteTaiKhoan: false,\r\n            taiKhoanEdit: {},\r\n            type: \"\",\r\n            keyword: \"\",\r\n            idDelete: \"\"\r\n        }\r\n    }\r\n\r\n    async componentDidMount() { //Gn gi tr cho bin state -> Gi API\r\n        await this.getDSTaiKhoan()\r\n    }\r\n\r\n    thongBao = (errCode, message) => {\r\n        let prop = {\r\n            position: toast.POSITION.TOP_CENTER,\r\n            autoClose: 2000,\r\n            closeButton: false,\r\n            className: 'custom-toast', // Thm class ty chnh\r\n            bodyClassName: 'custom-toast-body' // Thm class body ty chnh\r\n        }\r\n        if (errCode === 0) {\r\n            toast.success(message, prop)\r\n        }\r\n        else {\r\n            toast.error(message, prop)\r\n        }\r\n    }\r\n\r\n\r\n    handleOnChange = (event, id) => {\r\n        let copyState = { ...this.state }\r\n        copyState[id] = event.target.value\r\n        this.setState({\r\n            ...copyState\r\n        })\r\n    }\r\n\r\n\r\n    //GI API LY DANH SCH TI KHON\r\n    getDSTaiKhoan = async () => {\r\n        let response = await taiKhoanService.getDSTaiKhoan()\r\n        if (response && response.errCode === 0) {\r\n            this.setState({\r\n                DSTaiKhoan: response.DSTaiKhoan\r\n            })\r\n        }\r\n    }\r\n\r\n    //------------------------------------------------------------------------\r\n    //NG/M MODAL THM TI KHON MI\r\n    openCreateTaiKhoan = () => {\r\n        this.setState(\r\n            { isOpenModalCreateTaiKhoan: true }\r\n        )\r\n    }\r\n\r\n    toggleModalCreateTaiKhoan = () => {\r\n        this.setState(\r\n            { isOpenModalCreateTaiKhoan: !this.state.isOpenModalCreateTaiKhoan }\r\n        )\r\n    }\r\n\r\n    //GI API THM TI KHON MI\r\n    createTaiKhoan = async (data) => {\r\n        try {\r\n            let response = await taiKhoanService.createTaiKhoan(data)\r\n            if (!response || response.errCode === 0) {\r\n                await this.getDSTaiKhoan()\r\n                this.setState({\r\n                    isOpenModalCreateTaiKhoan: false\r\n                })\r\n\r\n            }\r\n            this.thongBao(response.errCode, response.message)\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n\r\n    }\r\n    //-------------------------------------------------------------------------------------------------------\r\n\r\n    //NG/M MODAL CHNH SA TI KHON\r\n    openEditTaiKhoan = async (data) => {\r\n        this.setState(\r\n            {\r\n                isOpenModalEditTaiKhoan: true,\r\n                taiKhoanEdit: data\r\n            }\r\n        )\r\n    }\r\n\r\n    toggleModalEditTaiKhoan = () => {\r\n        this.setState(\r\n            { isOpenModalEditTaiKhoan: !this.state.isOpenModalEditTaiKhoan }\r\n        )\r\n    }\r\n\r\n    //GI API CP NHT THNG TIN TI KHON\r\n    editTaiKhoan = async (taiKhoan) => {\r\n        try {\r\n            let response = await taiKhoanService.editTaiKhoan(taiKhoan)\r\n            if (!response || response.errCode === 0) {\r\n                await this.getDSTaiKhoan()\r\n                this.setState({\r\n                    isOpenModalEditTaiKhoan: false\r\n                })\r\n\r\n            }\r\n            this.thongBao(response.errCode, response.message)\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n    //-------------------------------------------------------------------------------------------------------\r\n    openDeleteTaiKhoan = async (id) => {\r\n        this.setState(\r\n            {\r\n                isOpenModalDeleteTaiKhoan: true,\r\n                idDelete: id\r\n            }\r\n        )\r\n    }\r\n\r\n    toggleModalDeleteTaiKhoan = () => {\r\n        this.setState(\r\n            { isOpenModalDeleteTaiKhoan: !this.state.isOpenModalDeleteTaiKhoan }\r\n        )\r\n    }\r\n    //GI API XA TI KHON\r\n    deleteTaiKhoan = async (id) => {\r\n        try {\r\n            let response = await taiKhoanService.deleteTaiKhoan(id)\r\n            if (response && response.errCode === 0) {\r\n                await this.getDSTaiKhoan()\r\n                this.setState({\r\n                    isOpenModalDeleteTaiKhoan: false\r\n                })\r\n            }\r\n            this.thongBao(response.errCode, response.message)\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n\r\n    //----------------------------------------------------------------------------------------------\r\n    //GI API TM KIM TI KHON\r\n    searchTaiKhoan = async (type, keyword) => {\r\n        try {\r\n            if (!type) {\r\n                this.thongBao(-1, \"Vui lng chn mc tm kim!\")\r\n            }\r\n            else {\r\n                if (!keyword) {\r\n                    this.thongBao(-1, \"Vui lng nhp t kha tm kim!\")\r\n                }\r\n                else {\r\n                    let response = await taiKhoanService.searchTaiKhoan(type, keyword)\r\n                    if (response && response.errCode === 0) {\r\n                        this.setState({\r\n                            DSTaiKhoan: response.DSTaiKhoan\r\n                        })\r\n                    }\r\n                    else { this.thongBao(response.errCode, response.message) }\r\n                }\r\n            }\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n\r\n    handleKeyDown = (event) => {\r\n        if (event.key === 'Enter') {\r\n          const inputElements = document.querySelectorAll('.search input, .search select');\r\n          const currentIndex = Array.from(inputElements).indexOf(event.target);\r\n          if (currentIndex < inputElements.length - 1) {\r\n            inputElements[currentIndex + 1].focus();\r\n          } else {\r\n            this.searchTaiKhoan(this.state.type, this.state.keyword)\r\n          }\r\n        }\r\n    }\r\n\r\n    //----------------------------------------------------------------------------------------------\r\n    //RENDER\r\n    render() {\r\n        if (this.props.userInfo.vaiTro != 1) {\r\n            return null; // Hide the component if user role is not 1 (Admin)\r\n        }\r\n        let DSTaiKhoan = this.state.DSTaiKhoan\r\n        let vaiTro = {1: 'Admin', 2: 'Th Kho', 3: 'Nhn Vin Bn Hng'}\r\n        return (\r\n            <div className=\"users-container\">\r\n                <div className=\"title text-center\">Qun L Ti Khon</div>\r\n                <ModalCreateTaiKhoan\r\n                    isOpen={this.state.isOpenModalCreateTaiKhoan}\r\n                    toggleModalCreateTaiKhoan={this.toggleModalCreateTaiKhoan}\r\n                    createTaiKhoan={this.createTaiKhoan}\r\n                />\r\n                {this.state.isOpenModalEditTaiKhoan &&\r\n                    <ModalEditTaiKhoan\r\n                        isOpen={this.state.isOpenModalEditTaiKhoan}\r\n                        toggleModalEditTaiKhoan={this.toggleModalEditTaiKhoan}\r\n                        taiKhoan={this.state.taiKhoanEdit}\r\n                        editTaiKhoan={this.editTaiKhoan}\r\n                    />}\r\n                {this.state.isOpenModalDeleteTaiKhoan &&\r\n                    <ModalDeleteTaiKhoan\r\n                        isOpen={this.state.isOpenModalDeleteTaiKhoan}\r\n                        toggleModalDeleteTaiKhoan={this.toggleModalDeleteTaiKhoan}\r\n                        id={this.state.idDelete}\r\n                        deleteTaiKhoan={this.deleteTaiKhoan}\r\n                    />}\r\n                <div className='mt-1 mx-3'>\r\n                    <button className='btn btn-primary px-2'\r\n                        onClick={() => this.openCreateTaiKhoan()}>\r\n                        <i className='fas fa-plus'></i> Thm Ti Khon</button>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                    <div class=\"search-container\">\r\n                        <div className='mt-1 mx-3'>\r\n                            <button className='btn px-3'\r\n                                onClick={() => this.getDSTaiKhoan()}><u>Tt c ti khon</u></button>\r\n                        </div>\r\n                        <div class=\"form-group search-div\">\r\n                            <div class=\"search\">\r\n                                <span>\r\n                                    <select className='form-select type' onChange={(event) => { this.handleOnChange(event, \"type\") }} onKeyDown={this.handleKeyDown}>\r\n                                        <option value=\"\">Chn mc</option>\r\n                                        <option value=\"username\">Username</option>\r\n                                        <option value=\"hoTen\">H Tn</option>\r\n                                        <option value=\"sdt\">S in Thoi</option>\r\n                                        <option value=\"diaChi\">a Ch</option>\r\n                                        <option value=\"vaiTro\">Vai Tr</option>\r\n                                    </select>\r\n                                </span>\r\n                                <input type=\"text\" placeholder=\"Nhp t kha tm kim\" class=\"form-control keyword\" onChange={(event) => { this.handleOnChange(event, \"keyword\") }}\r\n                                onKeyDown={this.handleKeyDown} />\r\n                            </div>\r\n                            <div class=\"search-btn\">\r\n                                <button type=\"submit\" class=\"btn btn-base\" onClick={() => { this.searchTaiKhoan(this.state.type, this.state.keyword) }}> <i class=\"fas fa-search\"></i> </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className='user-table mt-4 mx-3'>\r\n                    <table class=\"table table-striped mt-3 \">\r\n                        <thead>\r\n                            <tr>\r\n                                <th className='stt'>STT</th>\r\n                                <th>Username</th>\r\n                                <th>H Tn</th>\r\n                                <th className='stt'>S in Thoi</th>\r\n                                <th>a Ch</th>\r\n                                <th>Vai Tr</th>\r\n                                <th></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {DSTaiKhoan && DSTaiKhoan.map((item, index) => {\r\n                                return (\r\n                                    <>\r\n                                        <tr key={index}>\r\n                                            <td className='stt'>{index + 1}</td>\r\n                                            <td>{item.username}</td>\r\n                                            <td>{item.hoTen}</td>\r\n                                            <td className='stt'>{item.sdt}</td>\r\n                                            <td>{item.diaChi}</td>\r\n                                            <td>{vaiTro[item.vaiTro]}</td>\r\n                                            <td style={{ textAlign: 'center' }}>\r\n                                                <button className='btn-edit'\r\n                                                    onClick={() => this.openEditTaiKhoan(item)}><FiEdit /></button>\r\n                                                <button className='btn-del'\r\n                                                    onClick={() => this.openDeleteTaiKhoan(item.idTK)}><LuTrash2 /></button>\r\n                                            </td>\r\n                                        </tr>\r\n                                    </>\r\n                                )\r\n                            })\r\n                            }\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        userInfo: state.user.userInfo\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TaiKhoan);\r\n","import axios from \"../axios\"\r\n\r\n//LY DANH SCH PHIU THU\r\nconst getDSPhieuThu = () => {\r\n    return axios.get('/get-ds-phieuthu')\r\n}\r\n\r\n\r\n//XEM CHI TIT PHIU THU\r\nconst getCTPT = (idPT) => {\r\n    return axios.get('/get-chitietphieuthu', {\r\n        params: {\r\n            idPT: idPT\r\n        }\r\n    })\r\n}\r\n\r\n//CHECK CHI TIT PHIU THU\r\nconst checkCTPT = (data) => {\r\n    return axios.post('/check-chitietphieuthu', data)\r\n}\r\n\r\n\r\n//THM PHIU THU MI\r\nconst createPhieuThu = (data) => {\r\n    return axios.post('/create-phieuthu', data)\r\n}\r\n\r\n\r\n//TM KIM PHIU THU\r\nconst searchPhieuThu = (type, keyword) => {\r\n    return axios.get('/search-phieuthu',{\r\n        params:{\r\n            type: type,\r\n            keyword: keyword\r\n        }\r\n    })\r\n}\r\n\r\nexport default {\r\n    getDSPhieuThu,\r\n    getCTPT,\r\n    checkCTPT,\r\n    searchPhieuThu,\r\n    createPhieuThu\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport moment from 'moment';\r\nimport ReactToPrint from \"react-to-print\";\r\n\r\nclass ModalShowPhieuThu extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.componentRef = React.createRef(); // Create a ref for ModalBody\r\n    }\r\n\r\n    toggle = () => {\r\n        this.props.toggleModalShowPhieuThu();\r\n    };\r\n\r\n    createPhieuThu = () => {\r\n        this.props.createPhieuThu();\r\n    };\r\n\r\n    render() {\r\n        const PT = this.props.PT;\r\n        return (\r\n            <Modal isOpen={this.props.isOpen} toggle={this.toggle} className=\"modal-spt-container\" size='lg' centered>\r\n                <ModalHeader toggle={this.toggle}>\r\n                    IN PHIU THU\r\n                </ModalHeader>\r\n                <ModalBody>\r\n                    <div ref={this.componentRef}>\r\n                        <div className='frame'>\r\n                            <div className='container'>\r\n                                <div className=\"store\">Nh sch ABC</div>\r\n                                <div className='title'>PHIU THU TIN</div>\r\n                                <span className='ngay'>Ngy thu tin: {moment(PT.ngayThuTien).format(\"DD/MM/YYYY\")}</span>\r\n                                <div className='khs'>\r\n                                    <p><span className='lefts'>H tn khch hng: {PT.hoTen}</span>\r\n                                        <span className='rights'>S in thoi: {PT.sdt}</span></p>\r\n                                    <p>a ch: {PT.diaChi}</p>\r\n                                    <p>Email: {PT.email}</p>\r\n                                    <p>S tin thu: {Number(PT.soTienThu).toLocaleString('vi-VN')}</p>\r\n                                </div>\r\n                                <div className='signs'>\r\n                                    <div>\r\n                                        Nhn vin<br />\r\n                                        <i>(K v h tn)</i>\r\n                                    </div>\r\n                                    <div>\r\n                                        Khch hng<br />\r\n                                        <i>(K v h tn)</i>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </ModalBody>\r\n                <ModalFooter>\r\n                    <ReactToPrint\r\n                        content={() => this.componentRef.current}\r\n                        trigger={() => (\r\n                            <Button type=\"submit\" color=\"primary\" className=\"print px-2\" >\r\n                                In (Lu)\r\n                            </Button>\r\n                        )}\r\n                        onAfterPrint={this.createPhieuThu}\r\n                    />\r\n                    {' '}<Button color=\"secondary\" className='exit px-2' onClick={this.toggle}>\r\n                        Thot\r\n                    </Button>\r\n                </ModalFooter>\r\n            </Modal>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalShowPhieuThu);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport phieuThuService from '../../services/phieuThuService'\r\nimport { toast } from 'react-toastify';\r\nimport ModalShowPhieuThu from './ModalShowPhieuThu';\r\nimport { LuTrash2 } from \"react-icons/lu\";\r\n\r\n\r\nclass ModalCreatePhieuThu extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            PT: {\r\n                ngayThuTien: new Date().toISOString().slice(0, 10),\r\n                sdt: \"\",\r\n                hoTen: \"\",\r\n                email: \"\",\r\n                diaChi: \"\",\r\n                soTienThu: \"\",\r\n            },\r\n            message: \"\",\r\n            isOpenModalShowPhieuThu: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() { }\r\n\r\n    toggle = () => {\r\n        this.setState({\r\n            PT: {\r\n                ngayThuTien: new Date().toISOString().slice(0, 10),\r\n                sdt: \"\",\r\n                hoTen: \"\",\r\n                email: \"\",\r\n                diaChi: \"\",\r\n                soTienThu: \"\",\r\n            },\r\n            message: \"\",\r\n            isOpenModalShowPhieuThu: false\r\n        });\r\n        this.props.toggleModalCreatePhieuThu();\r\n    };\r\n\r\n    handleOnChange = (event, id) => {\r\n        let copyState = { ...this.state };\r\n        copyState.PT[id] = event.target.value;\r\n        this.setState({\r\n            ...copyState,\r\n        });\r\n    };\r\n\r\n\r\n    checklValidInput = () => {\r\n        const inputElements = document.querySelectorAll('.modal-pt-container input')\r\n        let arrInput = ['ngayThuTien', 'sdt', 'soTienThu']\r\n        let arr = ['Ngy thu tin', 'S in thoi', 'S tin thu']\r\n        for (let i = 0; i < arrInput.length; i++) {\r\n            if (!this.state.PT[arrInput[i]]) {\r\n                this.thongBao(-1, `Vui lng chn ${arr[i]}!`)\r\n                inputElements[i].focus()\r\n                return false;\r\n            }\r\n        }\r\n        return true\r\n    }\r\n\r\n    handleKeyDown = async (event, id) => {\r\n        if (event.key === 'Enter') {\r\n            const inputElements = document.querySelectorAll('.modal-pt-container input');\r\n            if (id < inputElements.length - 1)\r\n                inputElements[id + 1].focus()\r\n            else {\r\n                this.openShowPhieuThu();\r\n            }\r\n        }\r\n    }\r\n\r\n    thongBao = (errCode, message) => {\r\n        let prop = {\r\n            position: toast.POSITION.TOP_CENTER,\r\n            autoClose: 2000,\r\n            closeButton: false,\r\n            className: 'custom-toast',\r\n            bodyClassName: 'custom-toast-body'\r\n        }\r\n        if (errCode === 0) {\r\n            toast.success(message, prop)\r\n        }\r\n        else {\r\n            if (errCode == -2) toast.warning(message, prop)\r\n            else toast.error(message, prop)\r\n        }\r\n    }\r\n\r\n    openShowPhieuThu = async () => {\r\n        let isValid = this.checklValidInput()\r\n        if (isValid) {\r\n            const inputElements = document.querySelectorAll('.modal-pt-container input')\r\n            if (new Date(this.state.ngayLap).getTime() > new Date().getTime()) {\r\n                this.thongBao(-1, 'Ngy thu tin khng hp l!')\r\n                inputElements[0].focus()\r\n            }\r\n            else {\r\n                let response = await phieuThuService.checkCTPT(this.state.PT)\r\n                if (response && (response.errCode == 0)) {\r\n                    let copyState = this.state.PT\r\n                    copyState.hoTen = response.khachHang.ten\r\n                    copyState.diaChi = response.khachHang.diaChi\r\n                    copyState.email = response.khachHang.email\r\n                    this.setState({\r\n                        PT: copyState,\r\n                        isOpenModalShowPhieuThu: true\r\n                    })\r\n                }\r\n                else this.thongBao(-1, response.message)\r\n            }\r\n        }\r\n    }\r\n\r\n    toggleModalShowPhieuThu = () => {\r\n        this.setState(\r\n            { isOpenModalShowPhieuThu: !this.state.isOpenModalShowPhieuThu }\r\n        )\r\n    }\r\n\r\n    createPhieuThu = async () => {\r\n        await this.props.createPhieuThu(this.state.PT)\r\n        this.setState({\r\n            isOpenModalShowPhieuThu: false\r\n        })\r\n        this.setState({\r\n            PT: {\r\n                ngayThuTien: new Date().toISOString().slice(0, 10),\r\n                sdt: \"\",\r\n                hoTen: \"\",\r\n                email: \"\",\r\n                diaChi: \"\",\r\n                soTienThu: \"\",\r\n            },\r\n            isOpenModalShowPhieuThu: false\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Modal isOpen={this.props.isOpen} toggle={() => { this.toggle() }}\r\n                className=\"modal-pt-container\" size='lg' centered>\r\n                <ModalShowPhieuThu\r\n                    isOpen={this.state.isOpenModalShowPhieuThu}\r\n                    toggleModalShowPhieuThu={this.toggleModalShowPhieuThu}\r\n                    createPhieuThu={this.createPhieuThu}\r\n                    PT={this.state.PT}\r\n                />\r\n                <ModalHeader toggle={() => { this.toggle() }}>\r\n                    LP PHIU THU\r\n                </ModalHeader>\r\n                <ModalBody>\r\n                    <div className='container'>\r\n                        <div class=\"col-12 form-group\">\r\n                            <label>Ngy thu tin</label>\r\n                            <input type=\"date\" className='form-control' value={this.state.PT.ngayThuTien} onChange={(event) => { this.handleOnChange(event, \"ngayThuTien\") }} onKeyDown={(event) => { this.handleKeyDown(event, 0) }}></input>\r\n                        </div>\r\n                        <div class=\"col-12 form-group mt-3\">\r\n                            <label>S in thoi khch hng</label>\r\n                            <input type=\"tel\" className='form-control' value={this.state.PT.sdt} onChange={(event) => { this.handleOnChange(event, \"sdt\") }} onKeyDown={(event) => { this.handleKeyDown(event, 1) }}></input>\r\n                        </div>\r\n                        <div class=\"col-12 form-group mt-3\">\r\n                            <label>S tin thu</label>\r\n                            <input type=\"number\" className='form-control' value={this.state.PT.soTienThu} onChange={(event) => { this.handleOnChange(event, \"soTienThu\") }} onKeyDown={(event) => { this.handleKeyDown(event, 2) }}></input>\r\n                        </div>\r\n                    </div>\r\n                </ModalBody>\r\n                <ModalFooter>\r\n                    <Button type=\"submit\" color=\"primary\" className=\"submit px-2\" onClick={() => { this.openShowPhieuThu() }}>\r\n                        Xut\r\n                    </Button>{' '}\r\n                    <Button color=\"secondary\" className='exit px-2' onClick={() => { this.toggle() }}>\r\n                        Thot\r\n                    </Button>\r\n                </ModalFooter>\r\n            </Modal >\r\n        )\r\n    }\r\n\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalCreatePhieuThu);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport moment from 'moment';\r\nimport ReactToPrint from \"react-to-print\";\r\nimport { FiPrinter } from \"react-icons/fi\";\r\n\r\nclass ModalViewPhieuThu extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.componentRef = React.createRef(); // Create a ref for ModalBody\r\n    }\r\n\r\n    toggle = () => {\r\n        this.props.toggleModalViewPhieuThu();\r\n    };\r\n\r\n    createPhieuThu = () => {\r\n        this.props.createPhieuThu();\r\n    };\r\n\r\n    render() {\r\n        const PT = this.props.PT;\r\n        return (\r\n            <Modal isOpen={this.props.isOpen} toggle={this.toggle} className=\"modal-spt-container\" size='lg' centered>\r\n                <ModalHeader toggle={this.toggle}>\r\n                    CHI TIT PHIU THU\r\n                </ModalHeader>\r\n                <ModalBody>\r\n                    <div ref={this.componentRef}>\r\n                        <div className='frame'>\r\n                            <div className='container'>\r\n                                <div className='store'>Nh sch ABC</div>\r\n                                <div className='title'>PHIU THU TIN</div>\r\n                                <span className='ngay'>Ngy thu tin: {moment(PT.ngayThuTien).format(\"DD/MM/YYYY\")}</span>\r\n                                <div className='khs'>\r\n                                    <p><span className='lefts'>H tn khch hng: {PT.hoTen}</span>\r\n                                        <span className='rights'>S in thoi: {PT.sdt}</span></p>\r\n                                    <p>a ch: {PT.diaChi}</p>\r\n                                    <p>Email: {PT.email}</p>\r\n                                    <p>S tin thu: {Number(PT.soTienThu).toLocaleString('vi-VN')}</p>\r\n                                </div>\r\n                                <div className='signs'>\r\n                                    <div>\r\n                                        Nhn vin<br />\r\n                                        <i>(K v h tn)</i>\r\n                                    </div>\r\n                                    <div>\r\n                                        Khch hng<br />\r\n                                        <i>(K v h tn)</i>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </ModalBody>\r\n                <ModalFooter>\r\n                    <ReactToPrint\r\n                        content={() => this.componentRef.current}\r\n                        trigger={() => (\r\n                            <Button type=\"submit\" color=\"primary\" className=\"print px-2\" >\r\n                                <FiPrinter /> In\r\n                            </Button>\r\n                        )}\r\n                        onAfterPrint={this.toggle}\r\n                    />\r\n                    {' '}<Button color=\"secondary\" className='exit px-2' onClick={this.toggle}>\r\n                        Thot\r\n                    </Button>\r\n                </ModalFooter>\r\n            </Modal>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalViewPhieuThu);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './PhieuThu.scss'\r\nimport phieuThuService from '../../services/phieuThuService'\r\nimport { toast } from 'react-toastify';\r\nimport ModalCreatePhieuThu from './ModalCreatePhieuThu';\r\nimport moment from 'moment';\r\nimport { GoPaste } from \"react-icons/go\";\r\nimport ModalViewPhieuThu from './ModalViewPhieuThu';\r\n\r\nclass PhieuThu extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            DSPhieuThu: [],\r\n            isOpenModalCreatePhieuThu: false,\r\n            isOpenModalViewPhieuThu: false,\r\n            PT: \"\",\r\n            type: \"\",\r\n            keyword: \"\",\r\n            date: new Date().toISOString().slice(0, 10)\r\n        }\r\n    }\r\n    async componentDidMount() {\r\n        await this.getDSPhieuThu()\r\n    }\r\n\r\n    handleOnChange = (event, id) => {\r\n        let copyState = { ...this.state }\r\n        copyState[id] = event.target.value\r\n        this.setState({\r\n            ...copyState\r\n        })\r\n    }\r\n\r\n    //TO THNG BO\r\n    thongBao = (errCode, message) => {\r\n        let prop = {\r\n            position: toast.POSITION.TOP_CENTER,\r\n            autoClose: 2000,\r\n            closeButton: false,\r\n            className: 'custom-toast',\r\n            bodyClassName: 'custom-toast-body'\r\n        }\r\n        if (errCode === 0) {\r\n            toast.success(message, prop)\r\n        }\r\n        else {\r\n            toast.error(message, prop)\r\n        }\r\n    }\r\n\r\n    //GI API LY DANH SCH PHIU NHP\r\n    getDSPhieuThu = async () => {\r\n        let response = await phieuThuService.getDSPhieuThu()\r\n        if (response && response.errCode === 0) {\r\n            this.setState({\r\n                DSPhieuThu: response.DSPhieuThu\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    //GI API TM KIM PHIU NHP\r\n    searchPhieuThu = async (type) => {\r\n        try {\r\n            if (!type) {\r\n                this.thongBao(-1, \"Vui lng chn mc tm kim!\")\r\n            }            \r\n            else {       \r\n                let keyword = type == 'ngayThuTien' ? this.state.date : this.state.keyword\r\n                if (type == 'ngayThuTien' && !this.state.date){\r\n                    this.thongBao(-1, \"Ngy thu tin khng hp l!\")\r\n                }\r\n                else{\r\n                    if (!keyword) {\r\n                        this.thongBao(-1, \"Vui lng nhp t kha tm kim!\")\r\n                    }\r\n                    else {\r\n                        let response = await phieuThuService.searchPhieuThu(type, keyword)\r\n                        if (response && response.errCode === 0) {\r\n                            this.setState({\r\n                                DSPhieuThu: response.DSPhieuThu\r\n                            })\r\n                        }\r\n                        else { this.thongBao(response.errCode, response.message) }\r\n                    }\r\n                }\r\n            }\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n\r\n    handleKeyDown = (event, id) => {\r\n        if (event.key === 'Enter') {\r\n            const inputElements = document.querySelectorAll('.search input, .search select');\r\n            if (id < inputElements.length - 1) {\r\n                inputElements[id+ 1].focus();\r\n            } else {\r\n                this.searchPhieuThu(this.state.type)\r\n            }\r\n        }\r\n    }\r\n\r\n    openCreatePhieuThu = () => {\r\n        this.setState(\r\n            { isOpenModalCreatePhieuThu: true }\r\n        )\r\n    }\r\n\r\n    toggleModalCreatePhieuThu = () => {\r\n        this.setState(\r\n            { isOpenModalCreatePhieuThu: !this.state.isOpenModalCreatePhieuThu }\r\n        )\r\n    }\r\n\r\n    createPhieuThu = async (data) => {\r\n        try {\r\n            let response = await phieuThuService.createPhieuThu(data)\r\n            if (response && response.errCode === 0) {\r\n                await this.getDSPhieuThu()\r\n                this.setState({\r\n                    isOpenModalCreatePhieuThu: false\r\n                })\r\n            }\r\n            this.thongBao(response.errCode, response.message)\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n\r\n    toggleModalViewPhieuThu = () => {\r\n        this.setState(\r\n            { isOpenModalViewPhieuThu: !this.state.isOpenModalViewPhieuThu }\r\n        )\r\n    }\r\n\r\n    openModalViewPhieuThu = async (idPT) => {\r\n        let response = await phieuThuService.getCTPT(idPT)\r\n        if (response.errCode == 0) {\r\n            this.setState({\r\n                PT: response.PT,\r\n                isOpenModalViewPhieuThu: true\r\n            })            \r\n        }\r\n        else this.thongBao (-1, response.message)\r\n    }\r\n\r\n    //----------------------------------------------------------------------------------------------\r\n    //RENDER\r\n    render() {\r\n        if (this.props.userInfo.vaiTro == 3) {\r\n            return null; // Hide the component if user role is not 1 (Admin)\r\n        }\r\n        let DSPhieuThu = this.state.DSPhieuThu\r\n        return (\r\n            <div className=\"pt-container\">\r\n                <div className=\"title text-center\">Qun L Thu Tin</div>\r\n                <ModalCreatePhieuThu\r\n                    isOpen={this.state.isOpenModalCreatePhieuThu}\r\n                    toggleModalCreatePhieuThu={this.toggleModalCreatePhieuThu}\r\n                    createPhieuThu={this.createPhieuThu}\r\n                /> \r\n                <ModalViewPhieuThu\r\n                    isOpen={this.state.isOpenModalViewPhieuThu}\r\n                    toggleModalViewPhieuThu={this.toggleModalViewPhieuThu}\r\n                    PT={this.state.PT}\r\n                /> \r\n\r\n                <div className='mt-1 mx-3'>\r\n                    <button className='btn btn-primary px-2'\r\n                        onClick={() => this.openCreatePhieuThu()}>\r\n                        <i className='fas fa-plus'></i> Lp Phiu Thu</button>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                    <div class=\"search-container\">\r\n                        <div className='mt-1 mx-3'>\r\n                            <button className='btn px-3'\r\n                                onClick={() => this.getDSPhieuThu()}><u>Tt c phiu thu</u></button>\r\n                        </div>\r\n                        <div class=\"form-group search-div\">\r\n                            <div class=\"search\">\r\n                                <span>\r\n                                    <select className='form-select type' onChange={(event) => { this.handleOnChange(event, \"type\") }} onKeyDown={(event) => { this.handleKeyDown(event, 0) }}>\r\n                                        <option value=\"\">Chn mc</option>\r\n                                        <option value=\"idPT\">M Phiu</option>\r\n                                        <option value=\"ngayThuTien\">Ngy Thu Tin</option>\r\n                                        <option value=\"hoTen\">H Tn</option>\r\n                                        <option value=\"sdt\">S in Thoi</option>\r\n                                    </select>\r\n                                </span>\r\n                                <input type={this.state.type == 'ngayThuTien' ? 'date' : 'text'} placeholder=\"Nhp t kha tm kim\" class=\"form-control keyword\" value={this.state.type == 'ngayThuTien' ? this.state.date : this.state.keyword}\r\n                                    onChange={(event) => { this.handleOnChange(event, this.state.type == 'ngayThuTien' ? 'date' : \"keyword\") }} onKeyDown={(event) => { this.handleKeyDown(event, 1) }}/>\r\n                            </div>\r\n                            <div class=\"search-btn\">\r\n                                <button type=\"submit\" class=\"btn btn-base\" onClick={() => { this.searchPhieuThu(this.state.type) }} > <i class=\"fas fa-search\"></i> </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className='pt-table mt-4 mx-3'>\r\n                    <table class=\"table table-striped mt-3\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th className=\"pt\">STT</th>\r\n                                <th className='pt'>M Phiu</th>\r\n                                <th>Ngy Thu Tin</th>\r\n                                <th>Khch Hng</th>\r\n                                <th className=\"pt\">S in Thoi</th>\r\n                                <th className='pt'>S Tin Thu</th>\r\n                                <th></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {DSPhieuThu && DSPhieuThu.map((item, index) => {\r\n                                return (\r\n                                    <>\r\n                                        <tr key={index}>\r\n                                            <td className=\"pt\">{index + 1}</td>\r\n                                            <td className='pt'>{item.idPT}</td>\r\n                                            <td>{moment(item.ngayThuTien).format(\"DD/MM/YYYY\")}</td>\r\n                                            <td>{item.hoTen}</td>\r\n                                            <td className='pt'>{item.sdt}</td>\r\n                                            <td className='pt'>{item.soTienThu.toLocaleString('vi-VN')}</td>\r\n                                        \r\n                                            <td style={{ textAlign: 'center' }}>\r\n                                                <button className='btn-detail' onClick={() => { this.openModalViewPhieuThu(item.idPT) }} title='Chi tit phiu thu'> <GoPaste /></button>\r\n                                            </td>\r\n                                        </tr>\r\n                                    </>\r\n                                )\r\n                            })\r\n                            }\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        userInfo: state.user.userInfo\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PhieuThu);\r\n","import axios from \"../axios\"\r\n\r\n//LY DANH SCH KHCH HNG\r\nconst getDSKhachHang = () => {\r\n    return axios.get('/get-ds-khachhang')\r\n}\r\n\r\n\r\n//THM KHCH HNG MI\r\nconst createKhachHang = (data) => {\r\n    return axios.post('/create-khachhang', data)\r\n}\r\n\r\n\r\n//CHNH SA KHCH HNG \r\nconst editKhachHang = (data) => {\r\n    return axios.put('/edit-khachhang', data)\r\n}\r\n\r\n\r\n//XA KHCH HNG\r\nconst deleteKhachHang = (sdt) => {\r\n    return axios.delete('/delete-khachhang', {\r\n        data: {\r\n            sdt: sdt\r\n        }\r\n    })\r\n}\r\n\r\n\r\n//TM KIM KHCH HNG\r\nconst searchKhachHang = (type, keyword) => {\r\n    return axios.get('/search-khachhang',{\r\n        params:{\r\n            type: type,\r\n            keyword: keyword\r\n        }\r\n    })\r\n}\r\n\r\nexport default{\r\n    getDSKhachHang,\r\n    searchKhachHang,\r\n    createKhachHang,\r\n    editKhachHang,\r\n    deleteKhachHang,\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport { toast } from 'react-toastify';\r\n\r\nclass ModalCreateKhachHang extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            message: \"\",\r\n            khachHang: {\r\n                ten: \"\",\r\n                diaChi: \"\",\r\n                sdt: \"\",\r\n                email: \"\"\r\n            },\r\n        };\r\n    }\r\n\r\n    componentDidMount() { }\r\n\r\n    toggle = () => {\r\n        this.setState({\r\n            message: \"\",\r\n            khachHang: {\r\n                ten: \"\",\r\n                diaChi: \"\",\r\n                sdt: \"\",\r\n                email: \"\"\r\n            },\r\n        });\r\n        this.props.toggleModalCreateKhachHang();\r\n    };\r\n\r\n    handleOnChange = (event, id) => {\r\n        let copyState = { ...this.state };\r\n        copyState.khachHang[id] = event.target.value;\r\n        this.setState({\r\n            ...copyState,\r\n        });\r\n    };\r\n\r\n    handleKeyDown = (event) => {\r\n        if (event.key === 'Enter') {\r\n            const inputElements = document.querySelectorAll('.modal-kh-container input, .modal-kh-container select');\r\n            const currentIndex = Array.from(inputElements).indexOf(event.target);\r\n            if (currentIndex < inputElements.length - 1) {\r\n                inputElements[currentIndex + 1].focus();\r\n            } else {\r\n                this.createKhachHang();\r\n            }\r\n        }\r\n    };\r\n\r\n    checklValidInput = () => {\r\n        let arrInput = ['ten', 'sdt', 'diaChi', 'email'];\r\n        let arr = ['H tn khch hng', 'S in thoi', 'a ch', 'Email'];\r\n        for (let i = 0; i < arrInput.length; i++) {\r\n          if (!this.state.khachHang[arrInput[i]]) {\r\n            const inputElements = document.querySelectorAll('.modal-kh-container input')\r\n            this.thongBao(-1,`Vui lng in ${arr[i]}!` )\r\n            inputElements[i].focus()\r\n            return false;\r\n          }\r\n        }\r\n        return true;\r\n    };\r\n\r\n    createKhachHang = () => {\r\n        let isValid = this.checklValidInput();\r\n        if (isValid) {\r\n            this.props.createKhachHang(this.state.khachHang); // Defined in parent, called here\r\n        }\r\n    };\r\n\r\n    thongBao = (errCode, message) => {\r\n        let prop = {\r\n            position: toast.POSITION.TOP_CENTER,\r\n            autoClose: 2000,\r\n            closeButton: false,\r\n            className: 'custom-toast', // Thm class ty chnh\r\n            bodyClassName: 'custom-toast-body' // Thm class body ty chnh\r\n        }\r\n        if (errCode === 0) {\r\n            toast.success(message, prop)\r\n        }\r\n        else {\r\n            toast.error(message, prop)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Modal isOpen={this.props.isOpen} toggle={() => { this.toggle() }}\r\n                className=\"modal-kh-container\" size='lg' centered>\r\n                <ModalHeader toggle={() => { this.toggle() }}>\r\n                    THM KHCH HNG\r\n                </ModalHeader>\r\n                <ModalBody>\r\n                    <div className='container'>\r\n                        <div className='row'>\r\n                            <div className='form-group'>\r\n                                <label>H Tn Khch Hng</label>\r\n                                <input type=\"text\" className='form-control' required={true} onChange={(event) => { this.handleOnChange(event, \"ten\") }} onKeyDown={this.handleKeyDown} />\r\n                            </div>\r\n                            <div class=\"form-group mt-3\">\r\n                                <label>S in Thoi</label>\r\n                                <input type=\"tel\" class=\"form-control\" required onChange={(event) => { this.handleOnChange(event, \"sdt\") }} onKeyDown={this.handleKeyDown}/>\r\n                            </div>\r\n                            <div class=\"form-group mt-3\">\r\n                                <label>a Ch</label>\r\n                                <input type=\"text\" className=\"form-control\" required onChange={(event) => { this.handleOnChange(event, \"diaChi\") }} onKeyDown={this.handleKeyDown} />\r\n                            </div>\r\n                            <div class=\"form-group mt-3\">\r\n                                <label>Email</label>\r\n                                <input type=\"email\" className=\"form-control\" onChange={(event) => { this.handleOnChange(event, \"email\") }} required onKeyDown={this.handleKeyDown} />\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                </ModalBody>\r\n                <ModalFooter>\r\n                    <Button type=\"submit\" color=\"primary\" className=\"btn-submit px-2\" onClick={() => { this.createKhachHang() }}>\r\n                        Thm\r\n                    </Button>{' '}\r\n                    <Button color=\"secondary\" className='btn-exit px-2' onClick={() => { this.toggle() }}>\r\n                        Thot\r\n                    </Button>\r\n                </ModalFooter>\r\n            </Modal>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalCreateKhachHang);\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport { emitter } from '../../utils/emitter'\r\nimport _ from 'lodash'\r\nimport { toast } from 'react-toastify';\r\n\r\nclass ModalEditKhachHang extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            khachHang: {\r\n                ten: \"\",\r\n                diaChi: \"\",\r\n                sdt: \"\",\r\n                email: \"\",\r\n                tienNo: \"\"\r\n            },\r\n        }\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        let khachHang = this.props.khachHang\r\n        //let { currentUser } = this.props\r\n        if (khachHang && !_.isEmpty(khachHang)) {\r\n            this.setState({\r\n                khachHang: {\r\n                    ...khachHang,\r\n                },\r\n            })\r\n        }\r\n    }\r\n\r\n    toggle = () => {\r\n        this.props.toggleModalEditKhachHang()\r\n    }\r\n\r\n    handleOnChange = (event, id) => {\r\n        let copyState = { ...this.state }\r\n        copyState.khachHang[id] = event.target.value\r\n        this.setState({\r\n            ...copyState\r\n        })\r\n    }\r\n\r\n    checklValidInput = () => {\r\n        let arrInput = ['ten', 'sdt', 'diaChi', 'email'];\r\n        let arr = ['H tn khch hng', 'S in thoi', 'a ch', 'Email'];\r\n        for (let i = 0; i < arrInput.length; i++) {\r\n            if (!this.state.khachHang[arrInput[i]]) {\r\n                const inputElements = document.querySelectorAll('.modal-kh-container input');\r\n                this.thongBao(-1, `Vui lng in ${arr[i]}!`)\r\n                inputElements[i].focus()\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n\r\n    thongBao = (errCode, message) => {\r\n        let prop = {\r\n            position: toast.POSITION.TOP_CENTER,\r\n            autoClose: 2000,\r\n            closeButton: false,\r\n            className: 'custom-toast', // Thm class ty chnh\r\n            bodyClassName: 'custom-toast-body' // Thm class body ty chnh\r\n        }\r\n        if (errCode === 0) {\r\n            toast.success(message, prop)\r\n        }\r\n        else {\r\n            toast.error(message, prop)\r\n        }\r\n    }\r\n\r\n    //GI API CHNH SA THNG TIN TI KHON\r\n    editKhachHang = () => {\r\n        let isValid = this.checklValidInput()\r\n        if (isValid) {\r\n            this.props.editKhachHang(this.state.khachHang) //nh ngha  cha, gi  con\r\n        }\r\n    }\r\n\r\n    handleKeyDown = (event) => {\r\n        if (event.key === 'Enter') {\r\n            const inputElements = document.querySelectorAll('.modal-kh-container input, .modal-kh-container select');\r\n            const currentIndex = Array.from(inputElements).indexOf(event.target);\r\n            if (currentIndex == 0) inputElements[currentIndex + 2].focus()\r\n            else {\r\n                if (currentIndex < inputElements.length - 1) {\r\n                    inputElements[currentIndex + 1].focus();\r\n                } else {\r\n                    this.editKhachHang();\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n    render() {\r\n        return (\r\n            <Modal isOpen={this.props.isOpen} toggle={() => { this.toggle() }}\r\n                className=\"modal-kh-container\" size='lg' centered>\r\n                <ModalHeader toggle={() => { this.toggle() }}>\r\n                    CP NHT THNG TIN KHCH HNG</ModalHeader>\r\n                <ModalBody>\r\n                    <div className='container'>\r\n                        <div className='row'>\r\n                            <div className='form-group'>\r\n                                <label>H Tn Khch Hng</label>\r\n                                <input type=\"text\" className='form-control' required={true} onChange={(event) => { this.handleOnChange(event, \"ten\") }} onKeyDown={this.handleKeyDown} value={this.state.khachHang.ten} />\r\n                            </div>\r\n                            <div class=\"form-group mt-3\">\r\n                                <label>S in Thoi</label>\r\n                                <input type=\"tel\" class=\"form-control\" required onChange={(event) => { this.handleOnChange(event, \"sdt\") }} onKeyDown={this.handleKeyDown} value={this.state.khachHang.sdt} disabled />\r\n                            </div>\r\n                            <div class=\"form-group mt-3\">\r\n                                <label>a Ch</label>\r\n                                <input type=\"text\" className=\"form-control\" required onChange={(event) => { this.handleOnChange(event, \"diaChi\") }} value={this.state.khachHang.diaChi} onKeyDown={this.handleKeyDown} />\r\n                            </div>\r\n                            <div class=\"form-group mt-3\">\r\n                                <label>Email</label>\r\n                                <input type=\"email\" className=\"form-control\" onChange={(event) => { this.handleOnChange(event, \"email\") }} value={this.state.khachHang.email} required onKeyDown={this.handleKeyDown} />\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                </ModalBody>\r\n                <ModalFooter>\r\n                    <Button type=\"submit\" color=\"primary\" className=\"btn-submit px-2\" onClick={() => { this.editKhachHang() }}>\r\n                        Lu\r\n                    </Button>{' '}\r\n                    <Button color=\"secondary\" className='btn-exit px-2' onClick={() => { this.toggle() }}>\r\n                        Thot\r\n                    </Button>\r\n                </ModalFooter>\r\n            </Modal>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalEditKhachHang);\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport { emitter } from '../../utils/emitter'\r\nimport _ from 'lodash'\r\n\r\nclass ModalDeleteKhachHang extends Component {\r\n\r\n    constructor(props) {\r\n        super(props) \r\n        this.state = {\r\n            message: \"\",\r\n            id:\"\"\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        let id = this.props.id\r\n        if (id) {\r\n            this.setState({\r\n                id:id\r\n            })\r\n        }\r\n    }\r\n\r\n    toggle = () => {\r\n        this.setState({\r\n            message: \"\"\r\n        })\r\n        this.props.toggleModalDeleteKhachHang()\r\n    }\r\n\r\n\r\n    //GI API XA TI KHON\r\n    deleteKhachHang = () => {\r\n            this.props.deleteKhachHang(this.state.id) //nh ngha  cha, gi  con\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <Modal isOpen={this.props.isOpen} toggle={() => { this.toggle() }}\r\n                className=\"modal-delete-kh\" size='lg' centered>\r\n                <ModalHeader toggle={() => { this.toggle() }}>\r\n                    XA KHCH HNG?</ModalHeader>\r\n                <ModalBody>\r\n                    <div className='container'>\r\n                        <h5>Bn c chc chn mun xa khch hng ny?</h5>\r\n                    </div>\r\n                </ModalBody>\r\n                <ModalFooter>\r\n                    <Button type=\"submit\" color=\"danger\" className=\"delete px-2\" onClick={() => { this.deleteKhachHang() }}>\r\n                        Xa\r\n                    </Button>{' '}\r\n                    <Button color=\"secondary\" className='exit px-2' onClick={() => { this.toggle() }}>\r\n                        Thot\r\n                    </Button>\r\n                </ModalFooter>\r\n            </Modal>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalDeleteKhachHang);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './KhachHang.scss'\r\nimport khachHangService from '../../services/khachHangService'\r\nimport ModalCreateKhachHang from './ModalCreateKhachHang';\r\nimport ModalEditKhachHang from \"./ModalEditKhachHang\"\r\nimport ModalDeleteKhachHang from \"./ModalDeleteKhachHang\"\r\nimport { toast } from 'react-toastify';\r\nimport { LuTrash2 } from \"react-icons/lu\";\r\nimport { FiEdit } from \"react-icons/fi\";\r\n\r\n\r\n\r\nclass KhachHang extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            DSKhachHang: [],\r\n            isOpenModalCreateKhachHang: false,\r\n            isOpenModalEditKhachHang: false,\r\n            isOpenModalDeleteKhachHang: false,\r\n            khachHangEdit: {},\r\n            type: \"\",\r\n            keyword: \"\",\r\n            idDelete: \"\"\r\n        }\r\n    }\r\n\r\n    async componentDidMount() { //Gn gi tr cho bin state -> Gi API\r\n        await this.getDSKhachHang()\r\n    }\r\n\r\n    thongBao = (errCode, message) => {\r\n        let prop = {\r\n            position: toast.POSITION.TOP_CENTER,\r\n            autoClose: 2000,\r\n            closeButton: false,\r\n            className: 'custom-toast', // Thm class ty chnh\r\n            bodyClassName: 'custom-toast-body' // Thm class body ty chnh\r\n        }\r\n        if (errCode === 0) {\r\n            toast.success(message, prop)\r\n        }\r\n        else {\r\n            toast.error(message, prop)\r\n        }\r\n    }\r\n\r\n\r\n    handleOnChange = (event, id) => {\r\n        let copyState = { ...this.state }\r\n        copyState[id] = event.target.value\r\n        this.setState({\r\n            ...copyState\r\n        })\r\n        console.log(this.state[id])\r\n    }\r\n\r\n\r\n    //GI API LY DANH SCH TI KHON\r\n    getDSKhachHang = async () => {\r\n        let response = await khachHangService.getDSKhachHang()\r\n        if (response && response.errCode === 0) {\r\n            this.setState({\r\n                DSKhachHang: response.DSKhachHang\r\n            })\r\n        }\r\n    }\r\n\r\n    //------------------------------------------------------------------------\r\n    //NG/M MODAL THM TI KHON MI\r\n    openCreateKhachHang = () => {\r\n        this.setState(\r\n            { isOpenModalCreateKhachHang: true }\r\n        )\r\n    }\r\n\r\n    toggleModalCreateKhachHang = () => {\r\n        this.setState(\r\n            { isOpenModalCreateKhachHang: !this.state.isOpenModalCreateKhachHang }\r\n        )\r\n    }\r\n\r\n    //GI API THM TI KHON MI\r\n    createKhachHang = async (data) => {\r\n        try {\r\n            let response = await khachHangService.createKhachHang(data)\r\n            if (!response || response.errCode === 0) {\r\n                await this.getDSKhachHang()\r\n                this.setState({\r\n                    isOpenModalCreateKhachHang: false\r\n                })\r\n\r\n            }\r\n            this.thongBao(response.errCode, response.message)\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n\r\n    }\r\n    //-------------------------------------------------------------------------------------------------------\r\n\r\n    //NG/M MODAL CHNH SA TI KHON\r\n    openEditKhachHang = async (data) => {\r\n        this.setState(\r\n            {\r\n                isOpenModalEditKhachHang: true,\r\n                khachHangEdit: data\r\n            }\r\n        )\r\n    }\r\n\r\n    toggleModalEditKhachHang = () => {\r\n        this.setState(\r\n            { isOpenModalEditKhachHang: !this.state.isOpenModalEditKhachHang }\r\n        )\r\n    }\r\n\r\n    //GI API CP NHT THNG TIN TI KHON\r\n    editKhachHang = async (khachHang) => {\r\n        try {\r\n            let response = await khachHangService.editKhachHang(khachHang)\r\n            if (!response || response.errCode === 0) {\r\n                await this.getDSKhachHang()\r\n                this.setState({\r\n                    isOpenModalEditKhachHang: false\r\n                })\r\n\r\n            }\r\n            this.thongBao(response.errCode, response.message)\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n    //-------------------------------------------------------------------------------------------------------\r\n    openDeleteKhachHang = async (id) => {\r\n        this.setState(\r\n            {\r\n                isOpenModalDeleteKhachHang: true,\r\n                idDelete: id\r\n            }\r\n        )\r\n    }\r\n\r\n    toggleModalDeleteKhachHang = () => {\r\n        this.setState(\r\n            { isOpenModalDeleteKhachHang: !this.state.isOpenModalDeleteKhachHang }\r\n        )\r\n    }\r\n    //GI API XA TI KHON\r\n    deleteKhachHang = async (id) => {\r\n        try {\r\n            let response = await khachHangService.deleteKhachHang(id)\r\n            if (response && response.errCode === 0) {\r\n                await this.getDSKhachHang()\r\n                this.setState({\r\n                    isOpenModalDeleteKhachHang: false\r\n                })\r\n            }\r\n            this.thongBao(response.errCode, response.message)\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n\r\n    //----------------------------------------------------------------------------------------------\r\n    //GI API TM KIM TI KHON\r\n    searchKhachHang = async (type, keyword) => {\r\n        try {\r\n            if (!type) {\r\n                this.thongBao(-1, \"Vui lng chn mc tm kim!\")\r\n            }\r\n            else {\r\n                if (!keyword) {\r\n                    this.thongBao(-1, \"Vui lng nhp t kha tm kim!\")\r\n                }\r\n                else {\r\n                    let response = await khachHangService.searchKhachHang(type, keyword)\r\n                    if (response && response.errCode === 0) {\r\n                        this.setState({\r\n                            DSKhachHang: response.DSKhachHang\r\n                        })\r\n                    }\r\n                    else { this.thongBao(response.errCode, response.message) }\r\n                }\r\n            }\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n\r\n    handleKeyDown = (event) => {\r\n        if (event.key === 'Enter') {\r\n            const inputElements = document.querySelectorAll('.search input, .search select');\r\n            const currentIndex = Array.from(inputElements).indexOf(event.target);\r\n            if (currentIndex < inputElements.length - 1) {\r\n                inputElements[currentIndex + 1].focus();\r\n            } else {\r\n                this.searchKhachHang(this.state.type, this.state.keyword)\r\n            }\r\n        }\r\n    }\r\n\r\n    //----------------------------------------------------------------------------------------------\r\n    //RENDER\r\n    render() {\r\n        if (this.props.userInfo.vaiTro == 2) {\r\n            return null; // Hide the component if user role is not 1 (Admin)\r\n        }\r\n        let DSKhachHang = this.state.DSKhachHang\r\n        return (\r\n            <div className=\"kh-container\">\r\n                <div className=\"title text-center\">Qun L Khch Hng</div>\r\n                <ModalCreateKhachHang\r\n                    isOpen={this.state.isOpenModalCreateKhachHang}\r\n                    toggleModalCreateKhachHang={this.toggleModalCreateKhachHang}\r\n                    createKhachHang={this.createKhachHang}\r\n                />\r\n                {this.state.isOpenModalEditKhachHang &&\r\n                    <ModalEditKhachHang\r\n                        isOpen={this.state.isOpenModalEditKhachHang}\r\n                        toggleModalEditKhachHang={this.toggleModalEditKhachHang}\r\n                        khachHang={this.state.khachHangEdit}\r\n                        editKhachHang={this.editKhachHang}\r\n                    />}\r\n                {this.state.isOpenModalDeleteKhachHang &&\r\n                    <ModalDeleteKhachHang\r\n                        isOpen={this.state.isOpenModalDeleteKhachHang}\r\n                        toggleModalDeleteKhachHang={this.toggleModalDeleteKhachHang}\r\n                        id={this.state.idDelete}\r\n                        deleteKhachHang={this.deleteKhachHang}\r\n                    />}\r\n                <div className='mt-1 mx-3'>\r\n                    <button className='btn btn-primary px-2'\r\n                        onClick={() => this.openCreateKhachHang()}>\r\n                        <i className='fas fa-plus'></i> Thm Khch Hng</button>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                    <div class=\"search-container\">\r\n                        <div className='mt-1 mx-3'>\r\n                            <button className='btn px-3'\r\n                                onClick={() => this.getDSKhachHang()}><u>Tt c khch hng</u></button>\r\n                        </div>\r\n                        <div class=\"form-group search-div\">\r\n                            <div class=\"search\">\r\n                                <span>\r\n                                    <select className='form-select type' onChange={(event) => { this.handleOnChange(event, \"type\") }} onKeyDown={this.handleKeyDown}>\r\n                                        <option value=\"\">Chn mc</option>\r\n                                        <option value=\"ten\">H Tn</option>\r\n                                        <option value=\"sdt\">S in thoi</option>\r\n                                        <option value=\"diaChi\">a ch</option>\r\n                                        <option value=\"email\">Email</option>\r\n                                    </select>\r\n                                </span>\r\n                                <input type=\"text\" placeholder=\"Nhp t kha tm kim\" class=\"form-control keyword\" onChange={(event) => { this.handleOnChange(event, \"keyword\") }}\r\n                                    onKeyDown={this.handleKeyDown} />\r\n                            </div>\r\n                            <div class=\"search-btn\">\r\n                                <button type=\"submit\" class=\"btn btn-base\" onClick={() => { this.searchKhachHang(this.state.type, this.state.keyword) }}> <i class=\"fas fa-search\"></i> </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className='kh-table mt-4 mx-3'>\r\n                    <table class=\"table table-striped mt-3\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th className='stt'>STT</th>\r\n                                <th>H Tn</th>\r\n                                <th className='stt'>S in Thoi</th>\r\n                                <th>a Ch</th>\r\n                                <th>Email</th>\r\n                                <th className='tienno'>Tin N</th>\r\n                                <th></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {DSKhachHang && DSKhachHang.map((item, index) => {\r\n                                return (\r\n                                    <>\r\n                                        <tr key={index}>\r\n                                            <td className='stt'>{index + 1}</td>\r\n                                            <td>{item.ten}</td>\r\n                                            <td className='stt'>{item.sdt}</td>\r\n                                            <td>{item.diaChi}</td>\r\n                                            <td>{item.email}</td>\r\n                                            <td className='tienno'>{item.tienNo.toLocaleString('vi-VN')}</td>\r\n                                            <td style={{ textAlign: 'center' }}>\r\n                                                <button className='btn-edit'\r\n                                                    onClick={() => this.openEditKhachHang(item)}><FiEdit /></button>\r\n                                                <button className='btn-del'\r\n                                                    onClick={() => this.openDeleteKhachHang(item.sdt)}><LuTrash2 /></button>\r\n                                            </td>\r\n                                        </tr>\r\n                                    </>\r\n                                )\r\n                            })\r\n                            }\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        userInfo: state.user.userInfo\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(KhachHang);","import axios from \"../axios\"\r\n\r\n//LY DANH SCH PHIU NHP\r\nconst getDSPhieuNhap = () => {\r\n    return axios.get('/get-ds-phieunhap')\r\n}\r\n\r\n\r\n//XEM CHI TIT PHIU NHP\r\nconst getCTPN = (idPN) => {\r\n    return axios.get('/get-chitietphieunhap', {\r\n        params: {\r\n            idPN: idPN\r\n        }\r\n    })\r\n}\r\n\r\n//CHECK CHI TIT PHIU NHP\r\nconst checkCTPN = (data) => {\r\n    return axios.post('/check-chitietphieunhap', data)\r\n}\r\n\r\n//THM PHIU NHP MI\r\nconst createPhieuNhap = (data) => {\r\n    return axios.post('/create-phieunhap', data)\r\n}\r\n\r\n\r\n//TM KIM PHIU NHP\r\nconst searchPhieuNhap = (type, keyword) => {\r\n    return axios.get('/search-phieunhap',{\r\n        params:{\r\n            type: type,\r\n            keyword: keyword\r\n        }\r\n    })\r\n}\r\n\r\n//THAM CHIU SCH\r\nconst referSach = (sach) => {\r\n    return axios.get('/refer-sach',{\r\n        params:{\r\n            sach: sach,\r\n        }\r\n    })\r\n}\r\n\r\nexport default {\r\n    getDSPhieuNhap,\r\n    getCTPN,\r\n    searchPhieuNhap,\r\n    checkCTPN,\r\n    createPhieuNhap,\r\n    referSach    \r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport moment from 'moment';\r\nimport ReactToPrint from \"react-to-print\";\r\n\r\nclass ModalShowPhieuNhap extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.componentRef = React.createRef(); // Create a ref for ModalBody\r\n    }\r\n\r\n    toggle = () => {\r\n        this.props.toggleModalShowPhieuNhap();\r\n    };\r\n\r\n    createPhieuNhap = () => {\r\n        this.props.createPhieuNhap();\r\n    };\r\n\r\n    render() {\r\n        const { CTPN } = this.props;\r\n\r\n        return (\r\n            <Modal isOpen={this.props.isOpen} toggle={this.toggle} className=\"modal-ct-pn-container\" size='lg' centered>\r\n                <ModalHeader toggle={this.toggle}>\r\n                    IN PHIU NHP\r\n                </ModalHeader>\r\n                <ModalBody>\r\n                    <div ref={this.componentRef}>\r\n                        <div className='container'>\r\n                            <div className=\"store\">Nh sch ABC</div>\r\n                            <div className='tittle'>PHIU NHP SCH</div>\r\n                            <span className='ngay'>Ngy lp phiu: {moment(this.props.ngayLap).format(\"DD/MM/YYYY\")}</span>\r\n                            <div className='ct-pn-table mt-4 mx-3'>\r\n                                <table className=\"table mt-3\">\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th className='stt'>STT</th>\r\n                                            <th>Tn sch</th>\r\n                                            <th>Tc gi</th>\r\n                                            <th>Th loi</th>\r\n                                            <th className='sl'>S lng</th>\r\n                                            <th className='dgn'>n gi nhp</th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        {CTPN && CTPN.map((item, index) => (\r\n                                            <tr key={index}>\r\n                                                <td className='stt'>{index + 1}</td>\r\n                                                <td>{item.sach}</td>\r\n                                                <td>{item.tacGia}</td>\r\n                                                <td>{item.theLoai}</td>\r\n                                                <td className='sl'>{item.soLuong}</td>\r\n                                                <td className='dgn'>{Number(item.donGiaNhap).toLocaleString('vi-VN')}</td>\r\n                                            </tr>\r\n                                        ))}\r\n                                    </tbody>\r\n                                </table>\r\n                                <div className='sign'>\r\n                                    <div>\r\n                                        Th kho<br />\r\n                                        <i>(K v h tn)</i>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </ModalBody>\r\n                <ModalFooter>\r\n                    <ReactToPrint\r\n                        content={() => this.componentRef.current}\r\n                        trigger={() => (\r\n                            <Button type=\"submit\" color=\"primary\" className=\"print px-2\" >\r\n                                In (Lu)\r\n                            </Button>\r\n                        )}\r\n                        onAfterPrint={this.createPhieuNhap}\r\n                    />\r\n                    {' '}<Button color=\"secondary\" className='exit px-2' onClick={this.toggle}>\r\n                        Thot\r\n                    </Button>\r\n                </ModalFooter>\r\n            </Modal>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalShowPhieuNhap);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport phieuNhapService from '../../services/phieuNhapService'\r\nimport { toast } from 'react-toastify';\r\nimport ModalShowPhieuNhap from './ModalShowPhieuNhap';\r\nimport { LuTrash2 } from \"react-icons/lu\";\r\n\r\n\r\nclass ModalCreatePhieuNhap extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            ngayLap: new Date().toISOString().slice(0, 10),\r\n            message: '',\r\n            CT: {\r\n                sach: \"\",\r\n                theLoai: \"\",\r\n                tacGia: \"\",\r\n                soLuong: \"\",\r\n                donGiaNhap: \"\",\r\n            },\r\n            CTPN: []\r\n        };\r\n    }\r\n\r\n    componentDidMount() { }\r\n\r\n    toggle = () => {\r\n        this.setState({\r\n            ngayLap: new Date().toISOString().slice(0, 10),\r\n            CT: {\r\n                sach: \"\",\r\n                theLoai: \"\",\r\n                tacGia: \"\",\r\n                soLuong: \"\",\r\n                donGiaNhap: \"\",\r\n            },\r\n            CTPN: []\r\n        });\r\n        this.props.toggleModalCreatePhieuNhap();\r\n    };\r\n\r\n    handleOnChange = (event, id) => {\r\n        let copyState = { ...this.state };\r\n        if (id == 'ngayLap') {\r\n            copyState[id] = event.target.value;\r\n        }\r\n        else {\r\n            copyState.CT[id] = event.target.value;\r\n        }\r\n        this.setState({\r\n            ...copyState,\r\n        });\r\n    };\r\n\r\n    referSach = async () => {\r\n        let response = await phieuNhapService.referSach(this.state.CT.sach)\r\n        if (response) {\r\n            if (response.errCode === 0) {\r\n                let ct = response.ct\r\n                ct.soLuong = this.state.CT.soLuong\r\n                this.setState({\r\n                    CT: ct\r\n                })\r\n            }\r\n            else {\r\n                if (response.errCode == 3) {\r\n                    this.thongBao(-2, response.message)\r\n                }\r\n                else {\r\n                    this.thongBao(-1, response.message)\r\n                }\r\n            }\r\n            return response.errCode\r\n        }\r\n        return -1\r\n    }\r\n\r\n    checklValidInput = () => {\r\n        const inputElements = document.querySelectorAll('.modal-pn-container input')\r\n        let arrInput = ['sach', 'theLoai', 'tacGia', 'donGiaNhap', 'soLuong']\r\n        let arr = ['Tn sch', 'Th loi', 'Tc gi', 'n gi nhp', 'S Lng']\r\n        for (let i = 0; i < arrInput.length; i++) {\r\n            if (!this.state.CT[arrInput[i]]) {\r\n                this.thongBao(-1,`Vui lng in ${arr[i]}!`)\r\n                inputElements[i + 1].focus()\r\n                return false;\r\n            }\r\n        }\r\n        return true\r\n    }\r\n\r\n    //THM CHI TIT MI NHP VO PHIU NHP\r\n    addCTPN = async () => {\r\n        let isValid = this.checklValidInput()\r\n        if (isValid) {\r\n            const inputElements = document.querySelectorAll('.modal-pn-container input');\r\n            let response = await phieuNhapService.checkCTPN(this.state.CT)\r\n            if (response && (response.errCode == 0)) {\r\n                this.setState({\r\n                    CTPN: [...this.state.CTPN, this.state.CT],\r\n                    CT: {\r\n                        sach: \"\",\r\n                        theLoai: \"\",\r\n                        tacGia: \"\",\r\n                        donGiaNhap: \"\",\r\n                        soLuong: \"\",\r\n                    },\r\n                })\r\n                inputElements[1].focus()\r\n            }\r\n            else this.thongBao(-1, response.message)\r\n        }\r\n    }\r\n\r\n\r\n    handleKeyDown = async (event, id) => {\r\n        if (event.key === 'Enter') {\r\n            const inputElements = document.querySelectorAll('.modal-pn-container input');\r\n            if (id == 1) {\r\n                let errCode = await this.referSach()\r\n                if (errCode === 0) {\r\n                    inputElements[5].focus()\r\n                }\r\n                else {\r\n                    if (errCode === 3) {\r\n                        inputElements[id + 1].focus()\r\n                    }\r\n                    else inputElements[id].focus()\r\n                }\r\n            }\r\n            else {\r\n                if (id < inputElements.length - 1)\r\n                    inputElements[id + 1].focus()\r\n                else {\r\n                    this.addCTPN();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    thongBao = (errCode, message) => {\r\n        let prop = {\r\n            position: toast.POSITION.TOP_CENTER,\r\n            autoClose: 2000,\r\n            closeButton: false,\r\n            className: 'custom-toast',\r\n            bodyClassName: 'custom-toast-body'\r\n        }\r\n        if (errCode === 0) {\r\n            toast.success(message, prop)\r\n        }\r\n        else {\r\n            if (errCode == -2) toast.warning(message, prop)\r\n            else toast.error(message, prop)\r\n        }\r\n    }\r\n\r\n    deleteCTPN = (index) => {\r\n        let newCTPN = this.state.CTPN.slice(0, index).concat(this.state.CTPN.slice(index + 1))\r\n        this.setState({\r\n            CTPN: newCTPN\r\n        })\r\n    }\r\n\r\n    openShowPhieuNhap = () => {\r\n        const inputElements = document.querySelectorAll('.modal-pn-container input')\r\n        if (!this.state.ngayLap || new Date(this.state.ngayLap).getTime()>new Date().getTime()) {\r\n            this.thongBao(-1, 'Ngy lp khng hp l!')\r\n            inputElements[0].focus()\r\n        }\r\n        else {\r\n            if (this.state.CTPN.length == 0) {\r\n                this.thongBao(-1, 'Phiu nhp sch phi c t nht mt chi tit!')\r\n            }\r\n            else {\r\n                this.setState(\r\n                    { isOpenModalShowPhieuNhap: true }\r\n                )\r\n            }\r\n        }\r\n    }\r\n\r\n    toggleModalShowPhieuNhap = () => {\r\n        this.setState(\r\n            { isOpenModalShowPhieuNhap: !this.state.isOpenModalShowPhieuNhap }\r\n        )\r\n    }\r\n\r\n    createPhieuNhap = async () => {\r\n        let data = {\r\n            ngayLap: this.state.ngayLap,\r\n            CTPN: this.state.CTPN\r\n        }\r\n\r\n        await this.props.createPhieuNhap(data)\r\n        this.setState({\r\n            isOpenModalShowPhieuNhap: false\r\n        })\r\n        this.setState({\r\n            ngayLap: new Date().toISOString().slice(0, 10),\r\n            message: '',\r\n            CT: {\r\n                sach: \"\",\r\n                theLoai: \"\",\r\n                tacGia: \"\",\r\n                soLuong: \"\",\r\n                donGiaNhap: \"\",\r\n            },\r\n            CTPN: []\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Modal isOpen={this.props.isOpen} toggle={() => { this.toggle() }}\r\n                className=\"modal-pn-container\" size='lg' centered>\r\n                <ModalShowPhieuNhap\r\n                    isOpen={this.state.isOpenModalShowPhieuNhap}\r\n                    toggleModalShowPhieuNhap={this.toggleModalShowPhieuNhap}\r\n                    createPhieuNhap={this.createPhieuNhap}\r\n                    CTPN={this.state.CTPN}\r\n                    ngayLap={this.state.ngayLap}\r\n                />\r\n                <ModalHeader toggle={() => { this.toggle() }}>\r\n                    LP PHIU NHP\r\n                </ModalHeader>\r\n                <ModalBody>\r\n                    <div className='container'>\r\n                        <div class=\"form-group\">\r\n                            <label>Ngy lp phiu</label>\r\n                            <input type=\"date\" className='form-control' value={this.state.ngayLap} onChange={(event) => { this.handleOnChange(event, \"ngayLap\") }} onKeyDown={(event) => { this.handleKeyDown(event, 0) }}></input>\r\n                        </div>\r\n                        <span className='ctpn-tt'>Thng tin sch nhp</span>\r\n                        <div className='ctpn-container'>\r\n                            <div className='row mt-3'>\r\n                                <div className='col-6 form-group'>\r\n                                    <label>Tn sch</label>\r\n                                    <input type=\"text\" className='form-control' value={this.state.CT.sach} onChange={(event) => { this.handleOnChange(event, \"sach\") }} onKeyDown={(event) => { this.handleKeyDown(event, 1) }} />\r\n                                </div>\r\n                                <div className='col-6 form-group'>\r\n                                    <label>Th loi</label>\r\n                                    <input type=\"text\" className='form-control' value={this.state.CT.theLoai} onChange={(event) => { this.handleOnChange(event, \"theLoai\") }} onKeyDown={(event) => { this.handleKeyDown(event, 2) }} />\r\n                                </div>\r\n                            </div>\r\n                            <div className='row mt-3'>\r\n                                <div className='col-6 form-group'>\r\n                                    <label>Tc gi</label>\r\n                                    <input type=\"text\" className='form-control' value={this.state.CT.tacGia} onChange={(event) => { this.handleOnChange(event, \"tacGia\") }} onKeyDown={(event) => { this.handleKeyDown(event, 3) }} />\r\n                                </div>\r\n                                <div className='col-6 form-group'>\r\n                                    <label>n gi nhp</label>\r\n                                    <input type=\"number\" className='form-control' value={this.state.CT.donGiaNhap} onChange={(event) => { this.handleOnChange(event, \"donGiaNhap\") }} onKeyDown={(event) => { this.handleKeyDown(event, 4) }} />\r\n                                </div>\r\n                            </div>\r\n                            <div className='row mt-3'>\r\n                                <div className='col-6 form-group'>\r\n                                    <label>S lng</label>\r\n                                    <input type=\"number\" value={this.state.CT.soLuong} className='form-control' required onChange={(event) => { this.handleOnChange(event, \"soLuong\") }} onKeyDown={(event) => { this.handleKeyDown(event, 5) }} />\r\n                                </div>\r\n                                <div className='col-6'>\r\n                                    <button className='btn-add' onClick={this.addCTPN}>Thm sch</button>\r\n                                </div>\r\n                            </div>\r\n                        \r\n                        <div className='pn-container mt-4 mx-3'>\r\n                            <table class=\"table table-striped mt-3\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th className='stt'>STT</th>\r\n                                        <th>Tn sch</th>\r\n                                        <th>Th loi</th>\r\n                                        <th>Tc gi</th>\r\n                                        <th className = 'sl'>S lng</th>\r\n                                        <th className = 'dgn'>n gi nhp</th>\r\n                                        <th></th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {this.state.CTPN && this.state.CTPN.map((item, index) => {\r\n                                        return (\r\n                                            <>\r\n                                                <tr key={index}>\r\n                                                    <td className = 'stt'>{index + 1}</td>\r\n                                                    <td>{item.sach}</td>\r\n                                                    <td>{item.theLoai}</td>\r\n                                                    <td>{item.tacGia}</td>\r\n                                                    <td className = 'sl'>{item.soLuong}</td>\r\n                                                    <td className = 'dgn'>{Number(item.donGiaNhap).toLocaleString('vi-VN')}</td>\r\n                                                    <td style={{ textAlign: 'center' }}>\r\n                                                        <Button className='btn-del'\r\n                                                            onClick={() => this.deleteCTPN(index)}><LuTrash2 /></Button>\r\n                                                    </td>\r\n                                                </tr>\r\n                                            </>\r\n                                        )\r\n                                    })\r\n                                    }\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                        </div>\r\n                    </div>\r\n                </ModalBody>\r\n                <ModalFooter>\r\n                    <Button type=\"submit\" color=\"primary\" className=\"print px-2\" onClick={() => { this.openShowPhieuNhap() }}>\r\n                        Xut\r\n                    </Button>{' '}\r\n                    <Button color=\"secondary\" className='exit px-2' onClick={() => { this.toggle() }}>\r\n                        Thot\r\n                    </Button>\r\n                </ModalFooter>\r\n            </Modal >\r\n        )\r\n    }\r\n\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalCreatePhieuNhap);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport moment from 'moment';\r\nimport ReactToPrint from \"react-to-print\";\r\nimport { FiPrinter } from \"react-icons/fi\";\r\n\r\nclass ModalViewPhieuNhap extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.componentRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {}\r\n\r\n    toggle = () => {\r\n        this.props.toggleModalViewPhieuNhap();\r\n    };\r\n\r\n    render() {\r\n        let PN = this.props.PN\r\n        return (\r\n            <Modal isOpen={this.props.isOpen} toggle={() => { this.toggle() }}\r\n                className=\"modal-ct-pn-container\" size='lg' centered>\r\n                <ModalHeader toggle={() => { this.toggle() }}>\r\n                    CHI TIT PHIU NHP\r\n                </ModalHeader>\r\n                <ModalBody>\r\n                <div ref={this.componentRef}>\r\n                    <div className='container'>\r\n                        <div className=\"store\">Nh sch ABC</div>\r\n                        <div className='tittle'>PHIU NHP SCH</div>\r\n                        <span className='ngay'>Ngy lp phiu: {moment(PN.ngayLap).format(\"DD/MM/YYYY\")}</span>\r\n                        <div className='ct-pn-table mt-4 mx-3'>\r\n                            <table class=\"table mt-3\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th className = 'stt'>STT</th>\r\n                                        <th>Tn sch</th>\r\n                                        <th>Tc gi</th>\r\n                                        <th>Th loi</th>\r\n                                        <th className = 'sl'>S lng</th>\r\n                                        <th className = 'dgn'>n gi nhp</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {PN.CTPN && PN.CTPN.map((item, index) => {\r\n                                        return (\r\n                                            <>\r\n                                                <tr key={index}>\r\n                                                    <td className = 'stt'>{index + 1}</td>\r\n                                                    <td>{item.sach}</td>\r\n                                                    <td>{item.tacGia}</td>\r\n                                                    <td>{item.theLoai}</td>\r\n                                                    <td className = 'sl'>{item.soLuong}</td>\r\n                                                    <td className = 'dgn'>{item.donGiaNhap.toLocaleString('vi-VN')}</td>\r\n                                                </tr>\r\n                                            </>\r\n                                        )\r\n                                    })}\r\n                                </tbody>\r\n                            </table>\r\n                            <div className='sign'>\r\n                                <div>\r\n                                    Th kho<br />\r\n                                    <i>(K v h tn)</i>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                </ModalBody>\r\n                <ModalFooter>\r\n                    <ReactToPrint\r\n                        content={() => this.componentRef.current}\r\n                        trigger={() => (\r\n                            <Button type=\"submit\" color=\"primary\" className=\"print px-2\" >\r\n                                <FiPrinter/> In\r\n                            </Button>\r\n                        )}\r\n                        onAfterPrint={this.toggle}\r\n                    />\r\n                    {' '}<Button color=\"secondary\" className='exit px-2' onClick={this.toggle}>\r\n                        Thot\r\n                    </Button>\r\n                </ModalFooter>\r\n            </Modal >\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalViewPhieuNhap);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './PhieuNhap.scss'\r\nimport phieuNhapService from '../../services/phieuNhapService'\r\nimport { toast } from 'react-toastify';\r\nimport ModalCreatePhieuNhap from './ModalCreatePhieuNhap';\r\nimport moment from 'moment';\r\nimport { GoPaste } from \"react-icons/go\";\r\nimport ModalViewPhieuNhap from './ModalViewPhieuNhap';\r\n\r\n\r\nclass PhieuNhap extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            DSPhieuNhap: [],\r\n            isOpenModalCreatePhieuNhap: false,\r\n            isOpenModalViewPhieuNhap: false,\r\n            PN: \"\",\r\n            type: \"\",\r\n            keyword: \"\",\r\n            date: new Date().toISOString().slice(0, 10)\r\n        }\r\n    }\r\n    async componentDidMount() {\r\n        await this.getDSPhieuNhap()\r\n    }\r\n\r\n    handleOnChange = (event, id) => {\r\n        let copyState = { ...this.state }\r\n        copyState[id] = event.target.value\r\n        this.setState({\r\n            ...copyState\r\n        })\r\n    }\r\n\r\n    //TO THNG BO\r\n    thongBao = (errCode, message) => {\r\n        let prop = {\r\n            position: toast.POSITION.TOP_CENTER,\r\n            autoClose: 2000,\r\n            closeButton: false,\r\n            className: 'custom-toast',\r\n            bodyClassName: 'custom-toast-body'\r\n        }\r\n        if (errCode === 0) {\r\n            toast.success(message, prop)\r\n        }\r\n        else {\r\n            toast.error(message, prop)\r\n        }\r\n    }\r\n\r\n    //GI API LY DANH SCH PHIU NHP\r\n    getDSPhieuNhap = async () => {\r\n        let response = await phieuNhapService.getDSPhieuNhap()\r\n        if (response && response.errCode === 0) {\r\n            this.setState({\r\n                DSPhieuNhap: response.DSPhieuNhap\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    //GI API TM KIM PHIU NHP\r\n    searchPhieuNhap = async (type) => {\r\n        try {\r\n            if (!type) {\r\n                this.thongBao(-1, \"Vui lng chn mc tm kim!\")\r\n            }            \r\n            else {       \r\n                let keyword = type == 'ngayLap' ? this.state.date : this.state.keyword\r\n                if (type == 'ngayLap' && !this.state.date){\r\n                    this.thongBao(-1, \"Ngy lp khng hp l!\")\r\n                }\r\n                else{\r\n                    if (!keyword) {\r\n                        this.thongBao(-1, \"Vui lng nhp t kha tm kim!\")\r\n                    }\r\n                    else {\r\n                        let response = await phieuNhapService.searchPhieuNhap(type, keyword)\r\n                        if (response && response.errCode === 0) {\r\n                            this.setState({\r\n                                DSPhieuNhap: response.DSPhieuNhap\r\n                            })\r\n                        }\r\n                        else { this.thongBao(response.errCode, response.message) }\r\n                    }\r\n                }\r\n            }\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n\r\n    handleKeyDown = (event, id) => {\r\n        if (event.key === 'Enter') {\r\n            const inputElements = document.querySelectorAll('.search input, .search select');\r\n            if (id < inputElements.length - 1) {\r\n                inputElements[id+ 1].focus();\r\n            } else {\r\n                this.searchPhieuNhap(this.state.type)\r\n            }\r\n        }\r\n    }\r\n\r\n    openCreatePhieuNhap = () => {\r\n        this.setState(\r\n            { isOpenModalCreatePhieuNhap: true }\r\n        )\r\n    }\r\n\r\n    toggleModalCreatePhieuNhap = () => {\r\n        this.setState(\r\n            { isOpenModalCreatePhieuNhap: !this.state.isOpenModalCreatePhieuNhap }\r\n        )\r\n    }\r\n\r\n    createPhieuNhap = async (data) => {\r\n        try {\r\n            let response = await phieuNhapService.createPhieuNhap(data)\r\n            if (response && response.errCode === 0) {\r\n                await this.getDSPhieuNhap()\r\n                this.setState({\r\n                    isOpenModalCreatePhieuNhap: false\r\n                })\r\n            }\r\n            this.thongBao(response.errCode, response.message)\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n    toggleModalViewPhieuNhap = () => {\r\n        this.setState(\r\n            { isOpenModalViewPhieuNhap: !this.state.isOpenModalViewPhieuNhap }\r\n        )\r\n    }\r\n\r\n    openModalViewPhieuNhap = async (PN) => {\r\n        let response = await phieuNhapService.getCTPN(PN.idPN)\r\n        if (response.errCode == 0) {\r\n            this.setState({\r\n                PN: {\r\n                    ngayLap: PN.ngayLap,\r\n                    CTPN: response.CTPN,\r\n                }, \r\n\r\n                isOpenModalViewPhieuNhap: true\r\n            })            \r\n        }\r\n        else this.thongBao (-1, response.message)\r\n    }\r\n    //----------------------------------------------------------------------------------------------\r\n    //RENDER\r\n    render() {\r\n        if (this.props.userInfo.vaiTro == 3) {\r\n            return null; // Hide the component if user role is not 1 (Admin)\r\n        }\r\n        let DSPhieuNhap = this.state.DSPhieuNhap\r\n        return (\r\n            <div className=\"pn-container\">\r\n                <div className=\"title text-center\">Qun L Nhp Sch</div>\r\n                <ModalCreatePhieuNhap\r\n                    isOpen={this.state.isOpenModalCreatePhieuNhap}\r\n                    toggleModalCreatePhieuNhap={this.toggleModalCreatePhieuNhap}\r\n                    createPhieuNhap={this.createPhieuNhap}\r\n                />\r\n                <ModalViewPhieuNhap\r\n                    isOpen={this.state.isOpenModalViewPhieuNhap}\r\n                    toggleModalViewPhieuNhap={this.toggleModalViewPhieuNhap}\r\n                    PN={this.state.PN}\r\n                />\r\n\r\n                <div className='mt-1 mx-3'>\r\n                    <button className='btn btn-primary px-2'\r\n                        onClick={() => this.openCreatePhieuNhap()}>\r\n                        <i className='fas fa-plus'></i> Lp Phiu Nhp</button>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                    <div class=\"search-container\">\r\n                        <div className='mt-1 mx-3'>\r\n                            <button className='btn px-3'\r\n                                onClick={() => this.getDSPhieuNhap()}><u>Tt c phiu nhp</u></button>\r\n                        </div>\r\n                        <div class=\"form-group search-div\">\r\n                            <div class=\"search\">\r\n                                <span>\r\n                                    <select className='form-select type' onChange={(event) => { this.handleOnChange(event, \"type\") }} onKeyDown={(event) => { this.handleKeyDown(event, 0) }}>\r\n                                        <option value=\"\">Chn mc</option>\r\n                                        <option value=\"idPN\">M Phiu</option>\r\n                                        <option value=\"ngayLap\">Ngy Lp</option>\r\n                                    </select>\r\n                                </span>\r\n                                <input type={this.state.type == 'ngayLap' ? 'date' : 'text'} placeholder=\"Nhp t kha tm kim\" class=\"form-control keyword\" value={this.state.type == 'ngayLap' ? this.state.date : this.state.keyword}\r\n                                    onChange={(event) => { this.handleOnChange(event, this.state.type == 'ngayLap' ? 'date' : \"keyword\") }} onKeyDown={(event) => { this.handleKeyDown(event, 1) }}/>\r\n                            </div>\r\n                            <div class=\"search-btn\">\r\n                                <button type=\"submit\" class=\"btn btn-base\" onClick={() => { this.searchPhieuNhap(this.state.type) }} > <i class=\"fas fa-search\"></i> </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className='pn-table mt-4 mx-3'>\r\n                    <table class=\"table table-striped mt-3\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th className = 'stt'>STT</th>\r\n                                <th className='stt'>M Phiu</th>\r\n                                <th>Ngy Lp</th>\r\n                                <th></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {DSPhieuNhap && DSPhieuNhap.map((item, index) => {\r\n                                return (\r\n                                    <>\r\n                                        <tr key={index}>\r\n                                            <td className = 'stt'>{index + 1}</td>\r\n                                            <td className='stt'>{item.idPN}</td>\r\n                                            <td>{moment(item.ngayLap).format(\"DD/MM/YYYY\")}</td>\r\n                                            <td style={{ textAlign: 'center' }}>\r\n                                                <button className='btn-detail' onClick={() => { this.openModalViewPhieuNhap(item) }} title='Chi tit phiu nhp'> <GoPaste /></button>\r\n                                            </td>\r\n                                        </tr>\r\n                                    </>\r\n                                )\r\n                            })\r\n                            }\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        userInfo: state.user.userInfo\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PhieuNhap);\r\n","import axios from \"../axios\"\r\n\r\n//LY DANH SCH HA N\r\nconst getDSHoaDon = () => {\r\n    return axios.get('/get-ds-hoadon')\r\n}\r\n\r\n\r\n//XEM CHI TIT HA N\r\nconst getCTHD = (idHD) => {\r\n    return axios.get('/get-chitiethoadon', {\r\n        params: {\r\n            idHD: idHD\r\n        }\r\n    })\r\n}\r\n\r\n\r\n//CHECK CHI TIT HA N\r\nconst checkCTHD = (data) => {\r\n    return axios.post('/check-chitiethoadon', data)\r\n}\r\n\r\n\r\n//CHECK KHCH HNG\r\nconst checkKhachHang = (data) => {\r\n    return axios.post('/check-khachhang', data)\r\n}\r\n\r\n\r\n//THM HA N MI\r\nconst createHoaDon = (data) => {\r\n    return axios.post('/create-hoadon', data)\r\n}\r\n\r\n\r\n//TM KIM HA N\r\nconst searchHoaDon = (type, keyword) => {\r\n    return axios.get('/search-hoadon',{\r\n        params:{\r\n            type: type,\r\n            keyword: keyword\r\n        }\r\n    })\r\n}\r\n\r\nexport default {\r\n    getDSHoaDon,\r\n    getCTHD,\r\n    checkCTHD,\r\n    checkKhachHang,\r\n    createHoaDon, \r\n    searchHoaDon\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport moment from 'moment';\r\nimport ReactToPrint from \"react-to-print\";\r\nimport { FiPrinter } from \"react-icons/fi\";\r\n\r\nclass ModalShowHoaDon extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.componentRef = React.createRef(); // Create a ref for ModalBody\r\n    }\r\n\r\n    toggle = () => {\r\n        this.props.toggleModalShowHoaDon();\r\n    };\r\n\r\n    createHoaDon = () => {\r\n        this.props.createHoaDon();\r\n    };\r\n\r\n    render() {\r\n        const { CTHD } = this.props;\r\n\r\n        return (\r\n            <Modal isOpen={this.props.isOpen} toggle={this.toggle} className=\"modal-shd-container\" size='lg' centered>\r\n                <ModalHeader toggle={this.toggle}>\r\n                    IN HA N\r\n                </ModalHeader>\r\n                <ModalBody>\r\n                    <div className='container' ref={this.componentRef}>\r\n                        <div className=\"store\">Nh sch ABC</div>\r\n                        <div className='title'>HA N</div>\r\n                        <span className='ngay'>Ngy lp ha n: {moment(this.props.ngayLap).format(\"DD/MM/YYYY\")}</span>\r\n                        <div className='cthd-table mt-4 mx-3'>\r\n                            <div className=\"kh\">\r\n                                <span>H tn khch hng: {this.props.hoTen}</span>\r\n                                <span>S in thoi: {this.props.sdt}</span>\r\n                            </div>\r\n                            <table className=\"table mt-3\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th className='stt'>STT</th>\r\n                                        <th>Tn sch</th>\r\n                                        <th>Th loi</th>\r\n                                        <th className='sl'>S lng</th>\r\n                                        <th className='dgn'>n gi bn</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {CTHD && CTHD.map((item, index) => (\r\n                                        <tr key={index}>\r\n                                            <td className='stt'>{index + 1}</td>\r\n                                            <td>{item.sach}</td>                                            \r\n                                            <td>{item.theLoai}</td>\r\n                                            <td className='sl'>{item.soLuong}</td>\r\n                                            <td className='dgb'>{item.donGiaBan.toLocaleString('vi-VN')}</td>\r\n                                        </tr>\r\n                                    ))}\r\n                                    <tr>\r\n                                        <td colSpan=\"4\"></td>\r\n                                        <td class='tonghd'>Tng tin: {Number(this.props.tongTien).toLocaleString('vi-VN')}</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td colSpan=\"4\"></td>\r\n                                        <td class='tonghd'>S tin tr: {Number(this.props.soTienTra).toLocaleString('vi-VN')}</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td colSpan=\"4\"></td>\r\n                                        <td class='tonghd'>Tin tr li: {Number(this.props.tienTraLai).toLocaleString('vi-VN')}</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td colSpan=\"4\"></td>\r\n                                        <td class='tonghd'>N: {Number(this.props.no).toLocaleString('vi-VN')}</td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                            <div className='signs'>\r\n                                <div>\r\n                                    Nhn vin<br />\r\n                                    <i>(K v h tn)</i>\r\n                                </div>\r\n                                <div>\r\n                                    Ngi mua hng<br />\r\n                                    <i>(K v h tn)</i>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </ModalBody>\r\n                <ModalFooter>\r\n                    <ReactToPrint\r\n                        content={() => this.componentRef.current}\r\n                        trigger={() => (\r\n                            <Button type=\"submit\" color=\"primary\" className=\"print px-2\" >\r\n                                In (Lu)\r\n                            </Button>\r\n                        )}\r\n                        onAfterPrint={this.createHoaDon}\r\n                    />\r\n                    {' '}<Button color=\"secondary\" className='exit px-2' onClick={this.toggle}>\r\n                        Thot\r\n                    </Button>\r\n                </ModalFooter>\r\n            </Modal>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalShowHoaDon);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport hoaDonService from '../../services/hoaDonService'\r\nimport { toast } from 'react-toastify';\r\nimport ModalShowHoaDon from './ModalShowHoaDon';\r\nimport { LuTrash2 } from \"react-icons/lu\";\r\n\r\n\r\nclass ModalCreateHoaDon extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            ngayLap: new Date().toISOString().slice(0, 10),\r\n            sdt: \"\",\r\n            hoTen: \"\",\r\n            tongTien: 0,\r\n            soTienTra: \"\",\r\n            tienTraLai: \"\",\r\n            no: \"\",\r\n            CT: {\r\n                sach: \"\",\r\n                soLuong: \"\",\r\n            },\r\n            CTHD: []\r\n        };\r\n    }\r\n\r\n    componentDidMount() { }\r\n\r\n    toggle = () => {\r\n        this.setState({\r\n            ngayLap: new Date().toISOString().slice(0, 10),\r\n            sdt: \"\",\r\n            hoTen: \"\",\r\n            tongTien: 0,\r\n            soTienTra: \"\",\r\n            tienTraLai: \"\",\r\n            no: \"\",\r\n            CT: {\r\n                sach: \"\",\r\n                soLuong: \"\",\r\n            },\r\n            CTHD:[]\r\n        });\r\n        this.props.toggleModalCreateHoaDon();\r\n    };\r\n\r\n    handleOnChange = (event, id) => {\r\n        let copyState = { ...this.state };\r\n        if (id == 'sach' || id == 'soLuong') {\r\n            copyState.CT[id] = event.target.value;\r\n        }\r\n        else {\r\n            copyState[id] = event.target.value;\r\n            if (id == 'soTienTra') {\r\n                if (copyState.tongTien <= copyState.soTienTra) {\r\n                    copyState.tienTraLai = copyState.soTienTra - copyState.tongTien\r\n                    copyState.no = 0\r\n                }\r\n                else {\r\n                    copyState.tienTraLai = 0\r\n                    copyState.no = copyState.tongTien - copyState.soTienTra\r\n                }\r\n            }\r\n        }\r\n        this.setState({\r\n            ...copyState,\r\n        });\r\n    };\r\n\r\n    checklValidInput = () => {\r\n        const inputElements = document.querySelectorAll('.modal-hd-container input')\r\n        let arrInput = ['sach', 'soLuong']\r\n        let arr = ['Tn sch', 'S lng']\r\n        for (let i = 0; i < arrInput.length; i++) {\r\n            if (!this.state.CT[arrInput[i]]) {\r\n                this.thongBao(-1, `Vui lng in ${arr[i]}!`)\r\n                inputElements[i + 2].focus()\r\n                return false;\r\n            }\r\n        }\r\n        return true\r\n    }\r\n\r\n    //THM CHI TIT MI NHP VO HA N\r\n    addCTHD = async () => {\r\n        let isValid = this.checklValidInput()\r\n        if (isValid) {\r\n            const inputElements = document.querySelectorAll('.modal-hd-container input');\r\n            let response = await hoaDonService.checkCTHD(this.state.CT)\r\n            if (response && (response.errCode == 0)) {\r\n                this.setState({\r\n                    CTHD: [...this.state.CTHD, response.ct],\r\n                    CT: {\r\n                        sach: \"\",\r\n                        soLuong: \"\",\r\n                    },\r\n                    tongTien: this.state.tongTien + response.ct.thanhTien\r\n                })\r\n            }\r\n            else {\r\n                this.thongBao(-1, response.message)\r\n            }\r\n            inputElements[2].focus() //Input Tn sch\r\n        }\r\n    }\r\n\r\n\r\n    handleKeyDown = async (event, id) => {\r\n        if (event.key === 'Enter') {\r\n            const inputElements = document.querySelectorAll('.modal-hd-container input');\r\n            if (id == 3)  //Input S lng\r\n                this.addCTHD()\r\n            else {\r\n                if (id < inputElements.length - 1) inputElements[id + 1].focus()\r\n                else {\r\n                    this.openShowHoaDon()\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    thongBao = (errCode, message) => {\r\n        let prop = {\r\n            position: toast.POSITION.TOP_CENTER,\r\n            autoClose: 2000,\r\n            closeButton: false,\r\n            className: 'custom-toast',\r\n            bodyClassName: 'custom-toast-body'\r\n        }\r\n        if (errCode === 0) {\r\n            toast.success(message, prop)\r\n        }\r\n        else {\r\n            if (errCode == -2) toast.warning(message, prop)\r\n            else toast.error(message, prop)\r\n        }\r\n    }\r\n\r\n    deleteCTHD = (index) => {\r\n        let tien = this.state.CTHD[index].thanhTien\r\n        let newCTHD = this.state.CTHD.slice(0, index).concat(this.state.CTHD.slice(index + 1))\r\n        this.setState({\r\n            CTHD: newCTHD,\r\n            tongTien: this.state.tongTien - tien\r\n        })\r\n    }\r\n\r\n    openShowHoaDon = async () => {\r\n        const inputElements = document.querySelectorAll('.modal-hd-container input')\r\n        if (!this.state.ngayLap || new Date(this.state.ngayLap).getTime()>new Date().getTime()) {\r\n            this.thongBao(-1, 'Ngy lp khng hp l!')\r\n            inputElements[0].focus()\r\n\r\n        }\r\n        else {\r\n            if (this.state.CTHD.length == 0) {\r\n                this.thongBao(-1, 'Phiu nhp sch phi c t nht mt chi tit!')\r\n                inputElements[2].focus()\r\n            }\r\n            else {\r\n                if (!this.state.soTienTra) {\r\n                    this.thongBao(-1, 'Vui lng nhp S tin tr!')\r\n                    inputElements[4].focus()\r\n                }\r\n                else {\r\n                    if (!this.state.sdt) {\r\n                        this.thongBao(-1, 'Vui lng nhp S in thoi khch hng!')\r\n                        inputElements[1].focus()\r\n                    }\r\n                    else {\r\n                        let response = await hoaDonService.checkKhachHang({\r\n                            sdt: this.state.sdt,\r\n                            no: this.state.no\r\n                        })\r\n\r\n                        if (response.errCode == 0) {\r\n                            this.setState({\r\n                                hoTen: response.hoTen,\r\n                                isOpenModalShowHoaDon: true\r\n                            })\r\n                        }\r\n                        else {\r\n                            this.thongBao(-1, response.message)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    toggleModalShowHoaDon = () => {\r\n        this.setState(\r\n            { isOpenModalShowHoaDon: !this.state.isOpenModalShowHoaDon }\r\n        )\r\n    }\r\n\r\n    createHoaDon = async () => {\r\n        let data = {\r\n            ngayLap: this.state.ngayLap,\r\n            sdt: this.state.sdt,\r\n            hoTen: this.state.hoTen,\r\n            tongTien: this.state.tongTien,\r\n            soTienTra: this.state.soTienTra,\r\n            tienTraLai: this.state.tienTraLai,\r\n            no: this.state.no,\r\n            CTHD: this.state.CTHD\r\n        }\r\n\r\n        await this.props.createHoaDon(data)\r\n        this.setState({\r\n            isOpenModalShowHoaDon: false,\r\n            ngayLap: new Date().toISOString().slice(0, 10),\r\n            sdt: \"\",\r\n            hoTen: \"\",\r\n            tongTien: 0,\r\n            soTienTra: \"\",\r\n            tienTraLai: \"\",\r\n            no: \"\",\r\n            CT: {\r\n                sach: \"\",\r\n                soLuong: \"\",\r\n            },\r\n            CTHD: []\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Modal isOpen={this.props.isOpen} toggle={() => { this.toggle() }}\r\n                className=\"modal-hd-container\" size='lg' centered>\r\n                <ModalShowHoaDon\r\n                    isOpen={this.state.isOpenModalShowHoaDon}\r\n                    toggleModalShowHoaDon={this.toggleModalShowHoaDon}\r\n                    createHoaDon={this.createHoaDon}\r\n                    CTHD={this.state.CTHD}\r\n                    ngayLap={this.state.ngayLap}\r\n                    hoTen={this.state.hoTen}\r\n                    sdt={this.state.sdt}\r\n                    tongTien={this.state.tongTien}\r\n                    soTienTra={this.state.soTienTra}\r\n                    tienTraLai={this.state.tienTraLai}\r\n                    no={this.state.no}\r\n                />\r\n                <ModalHeader toggle={() => { this.toggle() }}>\r\n                    LP HA N\r\n                </ModalHeader>\r\n                <ModalBody>\r\n                    <div className='container'>\r\n                        <div className='row mt-3'>\r\n                            <div class='col-6 form-group'>\r\n                                <label>Ngy lp ha n</label>\r\n                                <input type=\"date\" className='form-control' value={this.state.ngayLap} onChange={(event) => { this.handleOnChange(event, \"ngayLap\") }} onKeyDown={(event) => { this.handleKeyDown(event, 0) }}></input>\r\n                            </div>\r\n                            <div className='col-6 form-group'>\r\n                                <label>S in thoi khch hng</label>\r\n                                <input type=\"tel\" className='form-control' value={this.state.sdt} onChange={(event) => { this.handleOnChange(event, \"sdt\") }} onKeyDown={(event) => { this.handleKeyDown(event, 1) }} />\r\n                            </div>\r\n                        </div>\r\n                        <span className='ttsb'>Thng tin sch bn</span>\r\n                        <div className='cthd-container'>\r\n                            <div className='row mt-3'>\r\n                                <div className='col-6 form-group'>\r\n                                    <label>Tn sch</label>\r\n                                    <input type=\"text\" className='form-control' value={this.state.CT.sach} onChange={(event) => { this.handleOnChange(event, \"sach\") }} onKeyDown={(event) => { this.handleKeyDown(event, 2) }} />\r\n                                </div>\r\n                                <div className='col-6 form-group'>\r\n                                    <label>S lng</label>\r\n                                    <input type=\"number\" className='form-control' value={this.state.CT.soLuong} onChange={(event) => { this.handleOnChange(event, \"soLuong\") }} onKeyDown={(event) => { this.handleKeyDown(event, 3) }} />\r\n                                </div>\r\n                            </div>\r\n                            <div className='row mt-3'>\r\n                                <div className='col-12'>\r\n                                    <button className='btn-add' onClick={this.addCTHD}>Thm sch</button>\r\n                                </div>\r\n                            </div>\r\n                        \r\n                        <div className='hd-container mt-4 mx-3'>\r\n                            <table class=\"table table-striped mt-3\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th className='stt'>STT</th>\r\n                                        <th>Tn sch</th>\r\n                                        <th>Th loi</th>\r\n                                        <th className='dgb'>n gi bn</th>\r\n                                        <th className='sl'>S lng</th>\r\n                                        <th></th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {this.state.CTHD && this.state.CTHD.map((item, index) => {\r\n                                        return (\r\n                                            <>\r\n                                                <tr key={index}>\r\n                                                    <td className='stt'>{index + 1}</td>\r\n                                                    <td>{item.sach}</td>\r\n                                                    <td>{item.theLoai}</td>\r\n                                                    <td className='dgb'>{item.donGiaBan.toLocaleString('vi-VN')}</td>\r\n                                                    <td className='sl'>{item.soLuong}</td>\r\n                                                    <td style={{ textAlign: 'center' }}>\r\n                                                        <button className='btn-del'\r\n                                                            onClick={() => this.deleteCTHD(index)}><LuTrash2 /></button>\r\n                                                    </td>\r\n                                                </tr>\r\n                                            </>\r\n                                        )\r\n                                    })\r\n                                    }\r\n                                </tbody>\r\n                            </table>\r\n                            <div className='row mt-3 money'>\r\n                                <div className='col-6 form-group'>\r\n                                    <label>S tin tr</label>\r\n                                    <input type=\"number\" className='form-control' value={this.state.soTienTra} onChange={(event) => { this.handleOnChange(event, \"soTienTra\") }} onKeyDown={(event) => { this.handleKeyDown(event, 4) }} />\r\n                                </div>\r\n                                <div className='tien col-6'>\r\n                                    Tng tin    : {this.state.tongTien.toLocaleString('vi-VN')}<br />\r\n                                    Tin tr li : {this.state.tienTraLai.toLocaleString('vi-VN')}<br />\r\n                                    N           : {this.state.no.toLocaleString('vi-VN')}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        </div>\r\n                    </div>\r\n                </ModalBody >\r\n                <ModalFooter>\r\n                    <Button type=\"submit\" color=\"primary\" className=\"submit px-2\" onClick={() => { this.openShowHoaDon() }}>\r\n                        Xut\r\n                    </Button>{' '}\r\n                    <Button color=\"secondary\" className='exit px-2' onClick={() => { this.toggle() }}>\r\n                        Thot\r\n                    </Button>\r\n                </ModalFooter>\r\n            </Modal >\r\n        )\r\n    }\r\n\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalCreateHoaDon);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport moment from 'moment';\r\nimport ReactToPrint from \"react-to-print\";\r\nimport { FiPrinter } from \"react-icons/fi\";\r\n\r\nclass ModalViewHoaDon extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.componentRef = React.createRef(); // Create a ref for ModalBody\r\n    }\r\n\r\n    toggle = () => {\r\n        this.props.toggleModalViewHoaDon();\r\n    };\r\n\r\n    createHoaDon = () => {\r\n        this.props.createHoaDon();\r\n    };\r\n\r\n    render() {\r\n        let HD = this.props.HD;\r\n        return (\r\n            <Modal isOpen={this.props.isOpen} toggle={this.toggle} className=\"modal-shd-container\" size='lg' centered>\r\n                <ModalHeader toggle={this.toggle}>\r\n                    IN HA N\r\n                </ModalHeader>\r\n                <ModalBody>\r\n                    <div ref={this.componentRef}>\r\n                        <div className='frame'>\r\n                            <div className='container'>\r\n                                <div className=\"store\">Nh sch ABC</div>\r\n                                <div className='title'>HA N</div>\r\n                                <span className='ngay'>Ngy lp ha n: {moment(HD.ngayLap).format(\"DD/MM/YYYY\")}</span>\r\n                                <div className='cthd-table mt-4 mx-3'>\r\n                                    <div className=\"kh\">\r\n                                        <span>H tn khch hng: {HD.hoTen}</span>\r\n                                        <span>S in thoi: {HD.sdt}</span>\r\n                                    </div>\r\n                                    <table className=\"table mt-3\" >\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th className='stt'>STT</th>\r\n                                                <th>Tn sch</th>\r\n                                                <th>Th loi</th>\r\n                                                <th className='sl'>S lng</th>\r\n                                                <th className='dgb'>n gi bn</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            {HD.CTHD && HD.CTHD.map((item, index) => (\r\n                                                <tr key={index}>\r\n                                                    <td className='stt'>{index + 1}</td>\r\n                                                    <td>{item.sach}</td>\r\n                                                    <td>{item.theLoai}</td>\r\n                                                    <td className='sl'>{item.soLuong}</td>\r\n                                                    <td className='dgb'>{item.donGiaBan.toLocaleString('vi-VN')}</td>\r\n                                                </tr>\r\n                                            ))}\r\n                                            <tr>\r\n                                                <td colSpan=\"4\"></td>\r\n                                                <td class='tonghd'>Tng tin: {Number(HD.tongTien).toLocaleString('vi-VN')}</td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td colSpan=\"4\"></td>\r\n                                                <td class='tonghd'>S tin tr: {Number(HD.soTienTra).toLocaleString('vi-VN')}</td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td colSpan=\"4\"></td>\r\n                                                <td class='tonghd'>Tin tr li: {Number(HD.tienTraLai).toLocaleString('vi-VN')}</td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td colSpan=\"4\"></td>\r\n                                                <td class='tonghd'>N: {Number(HD.no).toLocaleString('vi-VN')}</td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                    <div className='signs'>\r\n                                        <div>\r\n                                            Nhn vin<br />\r\n                                            <i>(K v h tn)</i>\r\n                                        </div>\r\n                                        <div>\r\n                                            Ngi mua hng<br />\r\n                                            <i>(K v h tn)</i>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </ModalBody>\r\n                <ModalFooter>\r\n                    <ReactToPrint\r\n                        content={() => this.componentRef.current}\r\n                        trigger={() => (\r\n                            <Button type=\"submit\" color=\"primary\" className=\"print px-2\" >\r\n                                <FiPrinter /> In\r\n                            </Button>\r\n                        )}\r\n                        onAfterPrint={this.toggle}\r\n                    />\r\n                    {' '}<Button color=\"secondary\" className='exit px-2' onClick={this.toggle}>\r\n                        Thot\r\n                    </Button>\r\n                </ModalFooter>\r\n            </Modal>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalViewHoaDon);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './HoaDon.scss'\r\nimport hoaDonService from '../../services/hoaDonService.js'\r\nimport { toast } from 'react-toastify';\r\nimport moment from 'moment';\r\nimport { GoPaste } from \"react-icons/go\";\r\nimport ModalCreateHoaDon from './ModalCreateHoaDon';\r\nimport ModalViewHoaDon from './ModalViewHoaDon';\r\n\r\n\r\nclass HoaDon extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            DSHoaDon: [],\r\n            isOpenModalCreateHoaDon: false,\r\n            isOpenModalViewHoaDon: false,\r\n            HD: \"\", \r\n            type: \"\",\r\n            keyword: \"\",\r\n            date: new Date().toISOString().slice(0, 10)\r\n        }\r\n    }\r\n    async componentDidMount() {\r\n        await this.getDSHoaDon()\r\n    }\r\n\r\n    handleOnChange = (event, id) => {\r\n        let copyState = { ...this.state }\r\n        copyState[id] = event.target.value\r\n        this.setState({\r\n            ...copyState\r\n        })\r\n    }\r\n\r\n    //TO THNG BO\r\n    thongBao = (errCode, message) => {\r\n        let prop = {\r\n            position: toast.POSITION.TOP_CENTER,\r\n            autoClose: 2000,\r\n            closeButton: false,\r\n            className: 'custom-toast',\r\n            bodyClassName: 'custom-toast-body'\r\n        }\r\n        if (errCode === 0) {\r\n            toast.success(message, prop)\r\n        }\r\n        else {\r\n            toast.error(message, prop)\r\n        }\r\n    }\r\n\r\n    //GI API LY DANH SCH PHIU NHP\r\n    getDSHoaDon = async () => {\r\n        let response = await hoaDonService.getDSHoaDon()\r\n        if (response && response.errCode === 0) {\r\n            this.setState({\r\n                DSHoaDon: response.DSHoaDon\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    //GI API TM KIM HA N\r\n    searchHoaDon = async (type) => {\r\n        try {\r\n            if (!type) {\r\n                this.thongBao(-1, \"Vui lng chn mc tm kim!\")\r\n            }            \r\n            else {       \r\n                let keyword = type == 'ngayLap' ? this.state.date : this.state.keyword\r\n                if (type == 'ngayLap' && !this.state.date){\r\n                    this.thongBao(-1, \"Ngy lp khng hp l!\")\r\n                }\r\n                else{\r\n                    if (!keyword) {\r\n                        this.thongBao(-1, \"Vui lng nhp t kha tm kim!\")\r\n                    }\r\n                    else {\r\n                        let response = await hoaDonService.searchHoaDon(type, keyword)\r\n                        if (response && response.errCode === 0) {\r\n                            this.setState({\r\n                                DSHoaDon: response.DSHoaDon\r\n                            })\r\n                        }\r\n                        else { this.thongBao(response.errCode, response.message) }\r\n                    }\r\n                }\r\n            }\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n\r\n    handleKeyDown = (event, id) => {\r\n        if (event.key === 'Enter') {\r\n            const inputElements = document.querySelectorAll('.search input, .search select');\r\n            if (id < inputElements.length - 1) {\r\n                inputElements[id+ 1].focus();\r\n            } else {\r\n                this.searchHoaDon(this.state.type)\r\n            }\r\n        }\r\n    }\r\n\r\n    openCreateHoaDon = () => {\r\n        this.setState(\r\n            { isOpenModalCreateHoaDon: true }\r\n        )\r\n    }\r\n\r\n    toggleModalCreateHoaDon = () => {\r\n        this.setState(\r\n            { isOpenModalCreateHoaDon: !this.state.isOpenModalCreateHoaDon }\r\n        )\r\n    }\r\n\r\n    createHoaDon = async (data) => {\r\n        try {\r\n            let response = await hoaDonService.createHoaDon(data)\r\n            if (response && response.errCode === 0) {\r\n                await this.getDSHoaDon()\r\n                this.setState({\r\n                    isOpenModalCreateHoaDon: false\r\n                })\r\n            }\r\n            this.thongBao(response.errCode, response.message)\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n    toggleModalViewHoaDon = () => {\r\n        this.setState(\r\n            { isOpenModalViewHoaDon: !this.state.isOpenModalViewHoaDon }\r\n        )\r\n    }\r\n\r\n    openModalViewHoaDon = async (HD) => {\r\n        let response = await hoaDonService.getCTHD(HD.idHD)\r\n        if (response.errCode == 0) {\r\n            this.setState({\r\n                HD: {\r\n                    ngayLap: HD.ngayLap,\r\n                    sdt: HD.sdt,\r\n                    hoTen: HD.hoTen,\r\n                    tongTien: HD.tongTien,\r\n                    soTienTra: HD.soTienTra,\r\n                    tienTraLai: HD.tienTraLai,\r\n                    no: HD.no,                   \r\n                    CTHD: response.CTHD,\r\n                }, \r\n\r\n                isOpenModalViewHoaDon: true\r\n            })            \r\n        }\r\n        else this.thongBao (-1, response.message)\r\n    }\r\n    //----------------------------------------------------------------------------------------------\r\n    //RENDER\r\n    render() {\r\n        if (this.props.userInfo.vaiTro == 2) {\r\n            return null; // Hide the component if user role is not 1 (Admin)\r\n        }\r\n        let DSHoaDon = this.state.DSHoaDon\r\n        return (\r\n            <div className=\"hd-container\">\r\n                <div className=\"title text-center\">Qun L Bn Sch</div>\r\n                <ModalCreateHoaDon\r\n                    isOpen={this.state.isOpenModalCreateHoaDon}\r\n                    toggleModalCreateHoaDon={this.toggleModalCreateHoaDon}\r\n                    createHoaDon={this.createHoaDon}\r\n                />\r\n                <ModalViewHoaDon\r\n                    isOpen={this.state.isOpenModalViewHoaDon}\r\n                    toggleModalViewHoaDon={this.toggleModalViewHoaDon}\r\n                    HD={this.state.HD}\r\n                /> \r\n\r\n                <div className='mt-1 mx-3'>\r\n                    <button className='btn btn-primary px-2'\r\n                        onClick={() => this.openCreateHoaDon()}>\r\n                        <i className='fas fa-plus'></i> Lp Ha n</button>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                    <div class=\"search-container\">\r\n                        <div className='mt-1 mx-3'>\r\n                            <button className='btn px-3'\r\n                                onClick={() => this.getDSHoaDon()}><u>Tt c ha n</u></button>\r\n                        </div>\r\n                        <div class=\"form-group search-div\">\r\n                            <div class=\"search\">\r\n                                <span>\r\n                                    <select className='form-select type' onChange={(event) => { this.handleOnChange(event, \"type\") }} onKeyDown={(event) => { this.handleKeyDown(event, 0) }}>\r\n                                        <option value=\"\">Chn mc</option>\r\n                                        <option value=\"idHD\">M Ha n</option>\r\n                                        <option value=\"ngayLap\">Ngy Lp</option>\r\n                                        <option value=\"sdt\">S in Thoi</option>\r\n                                        <option value=\"hoTen\">Khch Hng</option>\r\n                                    </select>\r\n                                </span>\r\n                                <input type={this.state.type == 'ngayLap' ? 'date' : 'text'} placeholder=\"Nhp t kha tm kim\" class=\"form-control keyword\" value={this.state.type == 'ngayLap' ? this.state.date : this.state.keyword}\r\n                                    onChange={(event) => { this.handleOnChange(event, this.state.type == 'ngayLap' ? 'date' : \"keyword\") }} onKeyDown={(event) => { this.handleKeyDown(event, 1) }}/>\r\n                            </div>\r\n                            <div class=\"search-btn\">\r\n                                <button type=\"submit\" class=\"btn btn-base\" onClick={() => { this.searchHoaDon(this.state.type) }} > <i class=\"fas fa-search\"></i> </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className='hd-table mt-4 mx-3'>\r\n                    <table class=\"table table-striped mt-3\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th className='hd'>STT</th>\r\n                                <th className='hd'>M Ha n</th>\r\n                                <th>Ngy Lp</th>\r\n                                <th className='hd'>S in Thoi</th>\r\n                                <th>H Tn</th>\r\n                                <th className='hd'>Tng Tin</th>\r\n                                <th className='hd'>S Tin Tr</th>\r\n                                <th className='hd'>Tin Tr Li</th>\r\n                                <th className='hd'>N</th>\r\n                                <th></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {DSHoaDon && DSHoaDon.map((item, index) => {\r\n                                return (\r\n                                    <>\r\n                                        <tr key={index}>\r\n                                            <td className='hd'>{index + 1}</td>\r\n                                            <td className='hd'>{item.idHD}</td>\r\n                                            <td>{moment(item.ngayLap).format(\"DD/MM/YYYY\")}</td>\r\n                                            <td className='hd'>{item.sdt}</td>\r\n                                            <td>{item.hoTen}</td>\r\n                                            <td className='hd'>{item.tongTien.toLocaleString('vi-VN')}</td>\r\n                                            <td className='hd'>{item.soTienTra.toLocaleString('vi-VN')}</td>\r\n                                            <td className='hd'>{item.tienTraLai.toLocaleString('vi-VN')}</td>\r\n                                            <td className='hd'>{item.no.toLocaleString('vi-VN')}</td>\r\n                                            <td style={{ textAlign: 'center' }}>\r\n                                                <button className='btn-detail' onClick={() => { this.openModalViewHoaDon(item) }} title='Chi tit phiu nhp'> <GoPaste /></button>\r\n                                            </td>\r\n                                        </tr>\r\n                                    </>\r\n                                )\r\n                            })\r\n                            }\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        userInfo: state.user.userInfo\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HoaDon);\r\n","import axios from \"../axios\"\r\n\r\n//XUT BO CO\r\nconst getBaoCao = (month, year, type) => {\r\n    return axios.get('/get-baocao', {\r\n        params: {\r\n            month: month,\r\n            year: year,\r\n            type: type\r\n        }\r\n    })\r\n}\r\n\r\nexport default{\r\n    getBaoCao\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport moment from 'moment';\r\nimport ReactToPrint from \"react-to-print\";\r\nimport { FiPrinter } from \"react-icons/fi\";\r\n\r\nclass ModalShowBaoCao extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.componentRef = React.createRef(); // Create a ref for ModalBody\r\n        this.state = {\r\n            ngayLap: new Date().toISOString().slice(0, 10)\r\n        }\r\n    }\r\n\r\n    toggle = () => {\r\n        this.props.toggleModalShowBaoCao();\r\n    };\r\n\r\n    render() {\r\n        const baoCao = this.props.baoCao;\r\n        return (\r\n            <Modal isOpen={this.props.isOpen} toggle={this.toggle} className=\"modal-bc-container\" size='lg' centered>\r\n                <ModalHeader toggle={this.toggle}>\r\n                    IN BO CO\r\n                </ModalHeader>\r\n                <ModalBody>\r\n                    <div ref={this.componentRef}>\r\n                        <div className='frame'>\r\n                            <div className='container' >\r\n                                <div className='top'>\r\n                                    <span className=\"store\">Nh sch ABC</span>\r\n                                    <span className=\"date\">Ngy lp: {moment(this.state.ngayLap).format(\"DD/MM/YYYY\")}</span>\r\n                                </div>\r\n                                <div className='title'>BO CO {baoCao.loai == 'ton' ? \"TN SCH\" : \"CNG N\"}</div>\r\n                                <div className='month'>\r\n                                    <span>Thng: {baoCao.thang}</span>\r\n                                    <span>Nm: {baoCao.nam}</span>\r\n                                </div>\r\n                                <div className='bc-table mt-4 mx-3'>\r\n                                    <table className=\"table mt-3\">\r\n                                        {baoCao.loai === 'ton' && (\r\n                                            <>\r\n                                                <thead>\r\n                                                    <tr>\r\n                                                        <th className='bc'>STT</th>\r\n                                                        <th>Tn sch</th>\r\n                                                        <th className='bc'>Tn u</th>\r\n                                                        <th className='bc'>Pht sinh</th>\r\n                                                        <th className='bc'>Tn cui</th>\r\n                                                    </tr>\r\n                                                </thead>\r\n                                                <tbody>\r\n                                                    {baoCao.baoCao.map((item, index) => (\r\n                                                        <tr key={index}>\r\n                                                            <td className='bc'>{index + 1}</td>\r\n                                                            <td>{item.tenSach}</td>\r\n                                                            <td className='bc'>{item.tonDau}</td>\r\n                                                            <td className='bc'>{item.phatSinh}</td>\r\n                                                            <td className='bc'>{item.tonCuoi}</td>\r\n                                                        </tr>\r\n                                                    ))}\r\n                                                </tbody>\r\n                                            </>\r\n                                        )}\r\n\r\n                                        {baoCao.loai == 'congNo' && (\r\n                                            <>\r\n                                                <thead>\r\n                                                    <tr>\r\n                                                        <th className='bc'>STT</th>\r\n                                                        <th>Khch hng</th>\r\n                                                        <th className='bc'>N u</th>\r\n                                                        <th className='bc'>Pht sinh</th>\r\n                                                        <th className='bc'>N cui</th>\r\n                                                    </tr>\r\n                                                </thead>\r\n                                                <tbody>\r\n                                                    {baoCao.baoCao.map((item, index) => (\r\n                                                        <tr key={index}>\r\n                                                            <td className='bc'>{index + 1}</td>\r\n                                                            <td>{item.hoTen}</td>\r\n                                                            <td className='bc'>{item.noDau.toLocaleString('vi-VN')}</td>\r\n                                                            <td className='bc'>{item.phatSinh.toLocaleString('vi-VN')}</td>\r\n                                                            <td className='bc'>{item.noCuoi.toLocaleString('vi-VN')}</td>\r\n                                                        </tr>\r\n                                                    ))}\r\n                                                </tbody>\r\n                                            </>\r\n                                        )}\r\n                                    </table>\r\n                                    <div className='sign'>\r\n                                        <div>\r\n                                            Ngi lp bo co<br />\r\n                                            <i>(K v h tn)</i>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </ModalBody>\r\n                <ModalFooter>\r\n                    <ReactToPrint\r\n                        content={() => this.componentRef.current}\r\n                        trigger={() => (\r\n                            <Button type=\"submit\" color=\"primary\" className=\"print px-2\" >\r\n                                <FiPrinter /> In\r\n                            </Button>\r\n                        )}\r\n                        onAfterPrint={this.toggle}\r\n                    />\r\n                    {' '}<Button color=\"secondary\" className='exit px-2' onClick={this.toggle}>\r\n                        Thot\r\n                    </Button>\r\n                </ModalFooter>\r\n            </Modal>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalShowBaoCao);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './BaoCao.scss'\r\nimport baoCaoService from '../../services/baoCaoService.js'\r\nimport { toast } from 'react-toastify';\r\nimport ModalShowBaoCao from './ModalShowBaoCao.js'\r\nclass BaoCao extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            month: \"\",\r\n            type: \"\",\r\n            baoCao: [],\r\n            isOpenModalShowBaoCao: false,\r\n            message: \"\"\r\n        }\r\n\r\n    }\r\n\r\n    handleKeyDown = async (event, id) => {\r\n        if (event.key === 'Enter') {\r\n            const inputElements = document.querySelectorAll('.bc-container input select');\r\n            if (id < inputElements.length - 1) inputElements[id + 1].focus()\r\n            else {\r\n                this.openShowBaoCao()\r\n            }\r\n        }\r\n    }\r\n\r\n    handleOnChange = (event, id) => {\r\n        let copyState = { ...this.state };\r\n        copyState[id] = event.target.value;\r\n        console.log(copyState)\r\n        this.setState({\r\n            ...copyState,\r\n        });\r\n    };\r\n\r\n    thongBao = (errCode, message) => {\r\n        let prop = {\r\n            position: toast.POSITION.TOP_CENTER,\r\n            autoClose: 2000,\r\n            closeButton: false,\r\n            className: 'custom-toast',\r\n            bodyClassName: 'custom-toast-body'\r\n        }\r\n        if (errCode === 0) {\r\n            toast.success(message, prop)\r\n        }\r\n        else {\r\n            toast.error(message, prop)\r\n        }\r\n    }\r\n\r\n    toggleModalShowBaoCao = () => {\r\n        this.setState(\r\n            { isOpenModalShowBaoCao: !this.state.isOpenModalShowBaoCao }\r\n        )\r\n    }\r\n\r\n    checklValidInput = () => {\r\n        const inputElements = document.querySelectorAll('.bc-container input, .bc-container select')\r\n        let arrInput = ['month', 'type']\r\n        let arr = ['Thng', 'Loi bo co']\r\n        for (let i = 0; i < arrInput.length; i++) {\r\n            if (!this.state[arrInput[i]]) {\r\n                this.thongBao(-1, `Vui lng chn ${arr[i]}!`)\r\n                inputElements[i].focus()\r\n                return false;\r\n            }\r\n        }\r\n        return true\r\n    }\r\n\r\n    openModalShowBaoCao = async () => {\r\n        let isValid = this.checklValidInput()\r\n        if (isValid) {\r\n            let time = this.state.month.split(\"-\")\r\n            let month = time[1]\r\n            let year = time[0]\r\n            let response = await baoCaoService.getBaoCao(month, year, this.state.type)\r\n            if (response && response.errCode == 0) {\r\n                this.setState(\r\n                    {\r\n                        baoCao: response.baoCao,\r\n                        isOpenModalShowBaoCao: true\r\n                    }\r\n                )\r\n            }\r\n            else {\r\n                this.thongBao(-1, response.message)\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        if (this.props.userInfo.vaiTro == 3) {\r\n            return null; // Hide the component if user role is not 1 (Admin)\r\n        }\r\n        return (\r\n            <div className=\"bc-container\">\r\n                <div className=\"title text-center\">Lp Bo Co Thng</div>\r\n                <ModalShowBaoCao\r\n                    isOpen={this.state.isOpenModalShowBaoCao}\r\n                    toggleModalShowBaoCao={this.toggleModalShowBaoCao}\r\n                    baoCao={this.state.baoCao}\r\n                />\r\n                <div className='row mt-1 mx-3'>\r\n                    <div class='col-6 form-group'>\r\n                        <label>Thng</label>\r\n                        <input type=\"month\" className='form-control' onChange={(event) => { this.handleOnChange(event, \"month\") }} onKeyDown={(event) => { this.handleKeyDown(event, 0) }}></input>\r\n                    </div>\r\n                    <div className='col-6'>\r\n                        <label>Loi bo co</label>\r\n                        <select className='form-select type' onChange={(event) => { this.handleOnChange(event, \"type\") }} onKeyDown={(event) => { this.handleKeyDown(event, 1) }}>\r\n                            <option value=\"\">Chn loi</option>\r\n                            <option value=\"ton\">Tn Sch</option>\r\n                            <option value=\"congNo\">Cng N</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                <div className='mt-3 mx-3'>\r\n                    <button className='btn btn-primary px-2'\r\n                        onClick={() => this.openModalShowBaoCao()}>\r\n                        Xut</button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        userInfo: state.user.userInfo\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BaoCao);\r\n","import React, { Component } from 'react';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport { Modal } from 'reactstrap';\r\n\r\nimport './ConfirmModal.scss';\r\nimport * as actions from \"../store/actions\";\r\nimport { KeyCodeUtils } from \"../utils\";\r\n\r\nclass ConfirmModal extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.acceptBtnRef = React.createRef();\r\n    }\r\n\r\n    initialState = {\r\n    };\r\n\r\n    state = {\r\n        ...this.initialState\r\n    };\r\n\r\n    componentDidMount() {\r\n        document.addEventListener('keydown', this.handlerKeyDown);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.removeEventListener('keydown', this.handlerKeyDown);\r\n    }\r\n\r\n    handlerKeyDown = (event) => {\r\n        const keyCode = event.which || event.keyCode;\r\n        if (keyCode === KeyCodeUtils.ENTER) {\r\n            if (!this.acceptBtnRef.current || this.acceptBtnRef.current.disabled) return;\r\n            this.acceptBtnRef.current.click();\r\n        }\r\n    }\r\n\r\n    onAcceptBtnClick = () => {\r\n        const { contentOfConfirmModal } = this.props;\r\n        if (contentOfConfirmModal.handleFunc) {\r\n            contentOfConfirmModal.handleFunc(contentOfConfirmModal.dataFunc);\r\n        }\r\n        this.onClose();\r\n    }\r\n\r\n    onClose = () => {\r\n        this.props.setContentOfConfirmModal({\r\n            isOpen: false,\r\n            messageId: \"\",\r\n            handleFunc: null,\r\n            dataFunc: null\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { contentOfConfirmModal } = this.props;\r\n\r\n        return (\r\n            <Modal isOpen={contentOfConfirmModal.isOpen} className='confirm-modal' centered={true}>\r\n                <div className=\"modal-header\">\r\n                    <div className=\"modal-title\">\r\n                        <FormattedMessage id={\"common.confirm\"} />\r\n                    </div>\r\n                    <div className=\"col-auto\">\r\n                        <button className=\"btn btn-close\" onClick={this.onClose}>\r\n                            <i className=\"fal fa-times\" />\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"modal-body\">\r\n                    <div className=\"confirm-modal-content\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-12\">\r\n                                <FormattedMessage id={contentOfConfirmModal.messageId ? contentOfConfirmModal.messageId : \"common.confirm-this-task\"} />\r\n                            </div>\r\n\r\n                            <hr />\r\n\r\n                            <div className=\"col-12\">\r\n                                <div className=\"btn-container text-center\">\r\n                                    <button className=\"btn btn-add\" onClick={this.onClose} >\r\n                                        <FormattedMessage id=\"common.close\" />\r\n                                    </button>\r\n                                    <button ref={this.acceptBtnRef} className=\"btn btn-add\" onClick={this.onAcceptBtnClick}>\r\n                                        <FormattedMessage id={\"common.accept\"} />\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Modal >\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        lang: state.app.language,\r\n        contentOfConfirmModal: state.app.contentOfConfirmModal\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        setContentOfConfirmModal: (contentOfConfirmModal) => dispatch(actions.setContentOfConfirmModal(contentOfConfirmModal))\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ConfirmModal);\r\n","import actionTypes from './actionTypes';\r\n\r\nexport const appStartUpComplete = () => ({\r\n    type: actionTypes.APP_START_UP_COMPLETE\r\n});\r\n\r\nexport const setContentOfConfirmModal = (contentOfConfirmModal) => ({\r\n    type: actionTypes.SET_CONTENT_OF_CONFIRM_MODAL,\r\n    contentOfConfirmModal: contentOfConfirmModal\r\n});","import React, { Component, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport { ConnectedRouter as Router } from 'connected-react-router';\r\nimport { history } from '../redux'\r\nimport { ToastContainer } from 'react-toastify';\r\n\r\nimport { userIsAuthenticated, userIsNotAuthenticated } from '../hoc/authentication';\r\n\r\nimport { path } from '../utils'\r\n\r\nimport Login from './Login/Login.js';\r\nimport Header from './Header/Header';\r\nimport Home from './Home/Home'\r\n\r\nimport Sach from './Sach/Sach.js';\r\nimport TaiKhoan from './TaiKhoan/TaiKhoan.js';\r\nimport PhieuThu from './PhieuThu/PhieuThu.js';\r\nimport KhachHang from './KhachHang/KhachHang.js';\r\nimport PhieuNhap from './PhieuNhap/PhieuNhap.js';\r\nimport HoaDon from './HoaDon/HoaDon.js';\r\nimport BaoCao from './BaoCao/BaoCao.js';\r\n\r\nimport { CustomToastCloseButton } from '../components/CustomToast';\r\nimport ConfirmModal from '../components/ConfirmModal';\r\n\r\nclass App extends Component {\r\n\r\n    handlePersistorState = () => {\r\n        const { persistor, isLoggedIn } = this.props;\r\n        let { bootstrapped } = persistor.getState();\r\n        if (bootstrapped) {\r\n            persistor.purge()\r\n            if (this.props.onBeforeLift) {\r\n                Promise.resolve(this.props.onBeforeLift())\r\n                    .then(() => this.setState({ bootstrapped: true }))\r\n                    .catch(() => this.setState({ bootstrapped: true }));\r\n            } else {\r\n                this.setState({ bootstrapped: true });\r\n            }\r\n        }\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.handlePersistorState();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                <Router history={history}>\r\n                    {this.props.isLoggedIn && <Header />}\r\n                    <span className=\"content-container\">\r\n                        <Switch>\r\n                            <Route path={path.HOME} exact component={(Home)} />\r\n                            <Route path={path.LOGIN} component={userIsNotAuthenticated(Login)} />\r\n                            <Route path={path.KHACHHANG} component={userIsAuthenticated(KhachHang)} />\r\n                            <Route path={path.TAIKHOAN} component={userIsAuthenticated(TaiKhoan)} />\r\n                            <Route path={path.PHIEUTHU} component={userIsAuthenticated(PhieuThu)} />\r\n                            <Route path={path.HOADON} component={userIsAuthenticated(HoaDon)} />\r\n                            <Route path={path.PHIEUNHAP} component={userIsAuthenticated(PhieuNhap)} />\r\n                            <Route path={path.SACH} component={userIsAuthenticated(Sach)} />\r\n                            <Route path={path.BAOCAO} component={userIsAuthenticated(BaoCao)} />\r\n                        </Switch>\r\n                    </span>\r\n\r\n                    <ToastContainer\r\n                        // className=\"toast-container\" toastClassName=\"toast-item\" bodyClassName=\"toast-item-body\"\r\n                        // autoClose={false} hideProgressBar={true} pauseOnHover={false}\r\n                        // pauseOnFocusLoss={true} closeOnClick={false} draggable={false}\r\n                        // closeButton={<CustomToastCloseButton />}\r\n                    />\r\n                    {/* </div> */}\r\n                </Router>\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        started: state.app.started,\r\n        isLoggedIn: state.user.isLoggedIn\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport { IntlProvider } from \"react-intl\";\r\n\r\nimport '@formatjs/intl-pluralrules/polyfill';\r\nimport '@formatjs/intl-pluralrules/locale-data/en';\r\nimport '@formatjs/intl-pluralrules/locale-data/vi';\r\n\r\nimport '@formatjs/intl-relativetimeformat/polyfill';\r\nimport '@formatjs/intl-relativetimeformat/locale-data/en';\r\nimport '@formatjs/intl-relativetimeformat/locale-data/vi';\r\n\r\nimport { LanguageUtils } from '../utils'\r\n\r\nconst messages = LanguageUtils.getFlattenedMessages();\r\n\r\nclass IntlProviderWrapper extends Component {\r\n\r\n    render() {\r\n        const { children, language } = this.props;\r\n        return (\r\n            <IntlProvider\r\n                locale={language}\r\n                messages={messages[language]}\r\n                defaultLocale=\"vi\">\r\n                {children}\r\n            </IntlProvider>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        language: state.app.language\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(IntlProviderWrapper);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport './styles/styles.scss';\r\n\r\nimport App from './containers/App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport IntlProviderWrapper from \"./hoc/IntlProviderWrapper\";\r\n\r\n\r\nimport { Provider } from 'react-redux';\r\nimport reduxStore, { persistor } from './redux';\r\n\r\nconst renderApp = () => {\r\n    ReactDOM.render(\r\n        <Provider store={reduxStore}>\r\n            <IntlProviderWrapper>\r\n                <App persistor={persistor}/>\r\n            </IntlProviderWrapper>\r\n        </Provider>,\r\n        document.getElementById('root')\r\n    );\r\n};\r\n\r\nrenderApp();\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}